<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="Cache-Control" content="no-siteapp">
    <meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1,user-scalable=no">
    
    <meta name="referrer" content="no-referrer-when-downgrade">
    
    <meta name="renderer" content="webkit"/>
    <meta name="force-rendering" content="webkit"/>
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"/>
    <script>if (/*@cc_on!@*/false || (!!window.MSInputMethodContext && !!document.documentMode)) window.location.href="https://support.dmeng.net/upgrade-your-browser.html?referrer="+encodeURIComponent(window.location.href); </script>
    
    
        <link rel="preload" crossorigin="crossorigin" href="/fonts/roboto/Roboto-Regular.woff2" as="font">
        <link rel="preload" crossorigin="crossorigin" href="/fonts/roboto/Roboto-Bold.woff2" as="font">
    
    
    
        <link rel="shortcut icon" href="/ios.github.io/./././images/userImage.JPG">
    

    
    
        
<link rel="stylesheet" href="/ios.github.io/css/mdui.min.v1.0.0.css">

    
    
<link rel="stylesheet" href="/ios.github.io/css/main.css">
<link rel="stylesheet" href="/ios.github.io/css/iconfont.css">


    
    

    
        <script data-ad-client="ca-" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
    












          


    
    
    <title>
        
            swift学习日记(三) | 猪会飞的博客
        
    </title>
    
    
<meta name="generator" content="Hexo 8.1.1"></head>
<body class="mdui-drawer-body-left mdui-appbar-with-toolbar mdui-theme-primary-teal mdui-theme-accent-blue">
  
  <header class="mdui-appbar mdui-appbar-fixed">
  <div id="toolbar" class="mdui-toolbar mdui-color-theme">
    <button class="mdui-btn mdui-btn-icon" mdui-drawer="{target: '#sidebar', swipe: true}"><i class="iconfont icon-menu"></i></button>
    <a href="/ios.github.io/" class="mdui-typo-headline">猪会飞的博客</a>
    <a href="/ios.github.io/" class="header-subtitle mdui-typo-headline"></a>
    <div class="mdui-toolbar-spacer"></div>
    <button class="mdui-btn mdui-btn-icon" mdui-dialog="{target: '#search'}" mdui-tooltip="{content: 'search'}"><i class="iconfont icon-search"></i></button>
  </div>
</header>

<div class="mdui-dialog" id="search">
  
    <div class="search-form">
      <input type="search" class="search-form-input" placeholder="请输入关键字" onfocus="listenSearchFunc()">
    </div>
    <div class="search-result" data-resource="/ios.github.io/search.xml"></div>
  
</div>

  <aside id="sidebar" class="mdui-drawer">
    <div class="mdui-tab" mdui-tab>
        <a href="#sidebar-tab1" id="sidebartab" class="mdui-ripple mdui-tab-active">站点概览</a>
        <a href="#sidebar-tab2" id="sidebartab" class="mdui-ripple">关于</a>
    </div>

    
    <div id="sidebar-tab1" class="mdui-p-a-1">
        <div class="mdui-list">
            
                
                <a href="/ios.github.io/" class="mdui-list-item mdui-ripple">
                    <div class="mdui-list-item-icon">
                        <i class="iconfont icon-home"></i>
                    </div>
                    <div class="mdui-list-item-content">主页</div>
                </a>
            
                
                <a href="/ios.github.io/archives/" class="mdui-list-item mdui-ripple">
                    <div class="mdui-list-item-icon">
                        <i class="iconfont icon-archive"></i>
                    </div>
                    <div class="mdui-list-item-content">归档</div>
                </a>
            
                
                <a href="/ios.github.io/tags/" class="mdui-list-item mdui-ripple">
                    <div class="mdui-list-item-icon">
                        <i class="iconfont icon-bookmark"></i>
                    </div>
                    <div class="mdui-list-item-content">标签</div>
                </a>
            
                
                <a href="/ios.github.io/about/" class="mdui-list-item mdui-ripple">
                    <div class="mdui-list-item-icon">
                        <i class="iconfont icon-user"></i>
                    </div>
                    <div class="mdui-list-item-content">关于</div>
                </a>
            
            <div class="mdui-list-item mdui-ripple">
                <div class="mdui-list-item-icon">
                    <i class="iconfont icon-moon"></i>
                </div>
                <div class="mdui-list-item-content">夜间模式</div>
                <label class="mdui-switch" id="darkmode">
                  <input type="checkbox" id="nightmode_switch"/>
                  <i class="mdui-switch-icon"></i>
                </label>
            </div>           
        </div>
    </div>

    
    <div id="sidebar-tab2" class="mdui-p-a-1">
        <div class="sidebar-overview">
            <div class="sidebar-avatar">
                
                    <img src="/ios.github.io/./././images/userImage.JPG"/>
                
            </div>
            <div class="sidebar-author-name">猪会飞</div>
            <div class="sidebar-description"></div>
        </div>
        <div class="sidebar-links">
            
                
                <div class="mdui-chip">
                    <span class="mdui-chip-icon"><i class="iconfont icon-mail"></i></span>
                    <a href="mailto:2839029331@qq.com" class="mdui-chip-title">E-Mail</a>
                </div>
            
                
                <div class="mdui-chip">
                    <span class="mdui-chip-icon"><i class="iconfont icon-github"></i></span>
                    <a target="_blank" rel="noopener" href="https://github.com/YCCIT123" class="mdui-chip-title">GitHub</a>
                </div>
            
        </div>
        <ul class="mdui-list" mdui-collapse="{accordion: true}">
            <li class="mdui-collapse-item">
                <div class="mdui-collapse-item-header mdui-list-item mdui-ripple">
                    <div class="mdui-list-item-icon">
                        <i class="iconfont icon-link"></i>
                    </div>
                    <div class="mdui-list-item-content">友情链接</div>
                    <div class="mdui-collapse-item-arrow">
                        <i class="mdui-list-item-icon iconfont icon-angle-down"></i>
                    </div>
                </div>
                <ul id="linksList" class="mdui-collapse-item-body mdui-list mdui-list-dense">
                    
                        <a target="_blank" rel="noopener" href="https://garybear.cn/hexo-theme-meadow/" class="mdui-list-item mdui-ripple">
                            Meadow说明文档
                        </a>
                    
                </ul>
            </li>
        </ul>
    </div>

    <div class="mdui-divider"></div>
    
    
</aside>
  
  <main id="main-contain" class="mdui-container mdui-m-t-5">
    <article id="article" class="mdui-card mdui-p-b-2 mdui-m-b-5">
  <header class="mdui-card-media">
    
    
      <div class="post-header"> 
  <a class="post-header-title" href="/ios.github.io/2025/12/05/swift%E5%AD%A6%E4%B9%A0%E6%97%A5%E8%AE%B0%EF%BC%88%E4%B8%89%EF%BC%89/">swift学习日记(三)</a>
  <div class="post-header-meta">
    <span>
      <span class="iconfont icon-calendar"></span>
      发布于:&nbsp;2025-12-05
    </span>
    <span>
      <span class="iconfont icon-calendar-check"></span>
      更新于:&nbsp;2025-12-04
    </span>
    <span>
      <span class="iconfont icon-folder"></span>
      分类于:&nbsp;
    </span>
    
  </div>
</div>   
    



    
    
    <div class="mdui-card-menu">
    
      <button class="mdui-btn mdui-btn-icon mdui-text-color-teal" mdui-menu="{target: '#share_menu', align: 'right'}"><i class="iconfont icon-share"></i></button>
      <ul class="mdui-menu" id="share_menu">
        <li class="mdui-menu-item">
          <a href="http://service.weibo.com/share/share.php?appkey=&title=swift学习日记(三)&url=https://yccit123.github.io/ios.github.io/2025/12/05/swift%E5%AD%A6%E4%B9%A0%E6%97%A5%E8%AE%B0%EF%BC%88%E4%B8%89%EF%BC%89/&pic=https://yccit123.github.io/ios.github.io/ios.github.io/./././images/userImage.JPG&searchPic=false&style=simple" target="_blank" class="mdui-ripple">分享到 Weibo</a>
        </li>
        <li class="mdui-menu-item">
          <a href="https://twitter.com/intent/tweet?text=swift学习日记(三)&url=https://yccit123.github.io/ios.github.io/2025/12/05/swift%E5%AD%A6%E4%B9%A0%E6%97%A5%E8%AE%B0%EF%BC%88%E4%B8%89%EF%BC%89/&via=猪会飞" target="_blank" class="mdui-ripple">分享到 Twitter</a>
        </li>
        <li class="mdui-menu-item">
          <a href="https://www.facebook.com/sharer/sharer.php?u=https://yccit123.github.io/ios.github.io/2025/12/05/swift%E5%AD%A6%E4%B9%A0%E6%97%A5%E8%AE%B0%EF%BC%88%E4%B8%89%EF%BC%89/" target="_blank" class="mdui-ripple">分享到 Facebook</a>
        </li>
        <li class="mdui-menu-item">
          <a href="https://plus.google.com/share?url=https://yccit123.github.io/ios.github.io/2025/12/05/swift%E5%AD%A6%E4%B9%A0%E6%97%A5%E8%AE%B0%EF%BC%88%E4%B8%89%EF%BC%89/" target="_blank" class="mdui-ripple">分享到 Google+</a>
        </li>
        <li class="mdui-menu-item">
          <a href="https://www.linkedin.com/shareArticle?mini=true&url=https://yccit123.github.io/ios.github.io/2025/12/05/swift%E5%AD%A6%E4%B9%A0%E6%97%A5%E8%AE%B0%EF%BC%88%E4%B8%89%EF%BC%89/&title=swift学习日记(三)" target="_blank" class="mdui-ripple">分享到 LinkedIn</a>
        </li>
        <li class="mdui-menu-item">
          <a href="http://connect.qq.com/widget/shareqq/index.html?site=猪会飞的博客&title=swift学习日记(三)&summary=&pics=https://yccit123.github.io/ios.github.io/ios.github.io/./././images/userImage.JPG&url=https://yccit123.github.io/ios.github.io/2025/12/05/swift%E5%AD%A6%E4%B9%A0%E6%97%A5%E8%AE%B0%EF%BC%88%E4%B8%89%EF%BC%89/" target="_blank" class="mdui-ripple">分享到 QQ</a>
        </li>
        <li class="mdui-menu-item">
          <a href="https://telegram.me/share/url?url=https://yccit123.github.io/ios.github.io/2025/12/05/swift%E5%AD%A6%E4%B9%A0%E6%97%A5%E8%AE%B0%EF%BC%88%E4%B8%89%EF%BC%89/&text=swift学习日记(三)" target="_blank" class="mdui-ripple">分享到 Telegram</a>
        </li>
      </ul>
    
  </div>
  </header>
  
  
  
  
  <div class="post-tags">
    
      <i class="iconfont icon-tag">
        <a rel="tag" href = /ios.github.io/tags/swift/ >swift</a>
      </i>
    
  </div>

  
  <div class="mdui-card-content mdui-typo mdui-p-x-4">
    <h1 id="Swift学习日记（三）：控制流"><a href="#Swift学习日记（三）：控制流" class="headerlink" title="Swift学习日记（三）：控制流"></a>Swift学习日记（三）：控制流</h1><h2 id="一、引言"><a href="#一、引言" class="headerlink" title="一、引言"></a>一、引言</h2><p>控制流是编程中用于控制代码执行顺序的机制。在上一篇学习日记中，我们已经了解了Swift的基本数据类型和运算符。在这篇日记中，我们将深入探讨Swift的控制流语句，包括条件语句、循环语句以及控制转移语句的高级用法。</p>
<h2 id="二、条件语句"><a href="#二、条件语句" class="headerlink" title="二、条件语句"></a>二、条件语句</h2><p>条件语句用于根据不同的条件执行不同的代码块。Swift提供了多种条件语句，包括<code>if-else</code>、<code>guard</code>和<code>switch</code>。</p>
<h3 id="1-if-else语句"><a href="#1-if-else语句" class="headerlink" title="1. if-else语句"></a>1. if-else语句</h3><p><code>if-else</code>语句是最基本的条件语句，用于根据条件执行不同的代码块：</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> score <span class="operator">=</span> <span class="number">85</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> score <span class="operator">&gt;=</span> <span class="number">90</span> &#123;</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;优秀&quot;</span>)</span><br><span class="line">&#125; <span class="keyword">else</span> <span class="keyword">if</span> score <span class="operator">&gt;=</span> <span class="number">80</span> &#123;</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;良好&quot;</span>)</span><br><span class="line">&#125; <span class="keyword">else</span> <span class="keyword">if</span> score <span class="operator">&gt;=</span> <span class="number">60</span> &#123;</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;及格&quot;</span>)</span><br><span class="line">&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;不及格&quot;</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="嵌套if-else"><a href="#嵌套if-else" class="headerlink" title="嵌套if-else"></a>嵌套if-else</h4><p><code>if-else</code>语句可以嵌套使用，用于处理更复杂的条件判断：</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> age <span class="operator">=</span> <span class="number">20</span></span><br><span class="line"><span class="keyword">let</span> hasID <span class="operator">=</span> <span class="literal">true</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> age <span class="operator">&gt;=</span> <span class="number">18</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> hasID &#123;</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;可以进入网吧&quot;</span>)</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;需要出示身份证&quot;</span>)</span><br><span class="line">    &#125;</span><br><span class="line">&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;未满18岁，禁止进入&quot;</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="2-guard语句"><a href="#2-guard语句" class="headerlink" title="2. guard语句"></a>2. guard语句</h3><p><code>guard</code>语句是Swift 2.0引入的新特性，用于提前退出函数、方法或循环。它的语法比嵌套的<code>if-else</code>更清晰，更易于阅读：</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">func</span> <span class="title function_">enterInternetCafe</span>(<span class="params">age</span>: <span class="type">Int</span>, <span class="params">hasID</span>: <span class="type">Bool</span>) &#123;</span><br><span class="line">    <span class="keyword">guard</span> age <span class="operator">&gt;=</span> <span class="number">18</span> <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;未满18岁，禁止进入&quot;</span>)</span><br><span class="line">        <span class="keyword">return</span></span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">guard</span> hasID <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;需要出示身份证&quot;</span>)</span><br><span class="line">        <span class="keyword">return</span></span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;可以进入网吧&quot;</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">enterInternetCafe(age: <span class="number">20</span>, hasID: <span class="literal">true</span>) <span class="comment">// 输出：可以进入网吧</span></span><br><span class="line">enterInternetCafe(age: <span class="number">17</span>, hasID: <span class="literal">true</span>) <span class="comment">// 输出：未满18岁，禁止进入</span></span><br><span class="line">enterInternetCafe(age: <span class="number">20</span>, hasID: <span class="literal">false</span>) <span class="comment">// 输出：需要出示身份证</span></span><br></pre></td></tr></table></figure>

<p><code>guard</code>语句的优点是：</p>
<ol>
<li>提前退出，减少嵌套层级</li>
<li>提高代码可读性</li>
<li>确保后续代码执行时，条件一定为真</li>
</ol>
<h3 id="3-switch语句"><a href="#3-switch语句" class="headerlink" title="3. switch语句"></a>3. switch语句</h3><p><code>switch</code>语句用于根据不同的情况执行不同的代码块，比一系列的<code>if-else</code>语句更简洁：</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> day <span class="operator">=</span> <span class="number">3</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">switch</span> day &#123;</span><br><span class="line"><span class="keyword">case</span> <span class="number">1</span>:</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;星期一&quot;</span>)</span><br><span class="line"><span class="keyword">case</span> <span class="number">2</span>:</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;星期二&quot;</span>)</span><br><span class="line"><span class="keyword">case</span> <span class="number">3</span>:</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;星期三&quot;</span>)</span><br><span class="line"><span class="keyword">case</span> <span class="number">4</span>:</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;星期四&quot;</span>)</span><br><span class="line"><span class="keyword">case</span> <span class="number">5</span>:</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;星期五&quot;</span>)</span><br><span class="line"><span class="keyword">case</span> <span class="number">6</span>, <span class="number">7</span>:</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;周末&quot;</span>)</span><br><span class="line"><span class="keyword">default</span>:</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;无效的星期&quot;</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>Swift的<code>switch</code>语句具有以下特点：</p>
<h4 id="不需要显式的break"><a href="#不需要显式的break" class="headerlink" title="不需要显式的break"></a>不需要显式的break</h4><p>与其他语言不同，Swift的<code>switch</code>语句在每个<code>case</code>结束后会自动退出，不需要显式的<code>break</code>语句：</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> number <span class="operator">=</span> <span class="number">1</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">switch</span> number &#123;</span><br><span class="line"><span class="keyword">case</span> <span class="number">1</span>:</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;数字1&quot;</span>) <span class="comment">// 只执行这一行</span></span><br><span class="line"><span class="keyword">case</span> <span class="number">2</span>:</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;数字2&quot;</span>)</span><br><span class="line"><span class="keyword">default</span>:</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;其他数字&quot;</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>如果需要执行多个<code>case</code>，可以使用<code>fallthrough</code>关键字：</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> number <span class="operator">=</span> <span class="number">1</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">switch</span> number &#123;</span><br><span class="line"><span class="keyword">case</span> <span class="number">1</span>:</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;数字1&quot;</span>)</span><br><span class="line">    <span class="keyword">fallthrough</span> <span class="comment">// 继续执行下一个case</span></span><br><span class="line"><span class="keyword">case</span> <span class="number">2</span>:</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;数字2&quot;</span>) <span class="comment">// 也会执行这一行</span></span><br><span class="line"><span class="keyword">default</span>:</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;其他数字&quot;</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="支持多种匹配模式"><a href="#支持多种匹配模式" class="headerlink" title="支持多种匹配模式"></a>支持多种匹配模式</h4><p>Swift的<code>switch</code>语句支持多种匹配模式：</p>
<h5 id="1-区间匹配"><a href="#1-区间匹配" class="headerlink" title="1. 区间匹配"></a>1. 区间匹配</h5><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> score <span class="operator">=</span> <span class="number">85</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">switch</span> score &#123;</span><br><span class="line"><span class="keyword">case</span> <span class="number">0</span><span class="operator">..&lt;</span><span class="number">60</span>:</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;不及格&quot;</span>)</span><br><span class="line"><span class="keyword">case</span> <span class="number">60</span><span class="operator">..&lt;</span><span class="number">80</span>:</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;及格&quot;</span>)</span><br><span class="line"><span class="keyword">case</span> <span class="number">80</span><span class="operator">..&lt;</span><span class="number">90</span>:</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;良好&quot;</span>)</span><br><span class="line"><span class="keyword">case</span> <span class="number">90</span><span class="operator">...</span><span class="number">100</span>:</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;优秀&quot;</span>)</span><br><span class="line"><span class="keyword">default</span>:</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;无效分数&quot;</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h5 id="2-元组匹配"><a href="#2-元组匹配" class="headerlink" title="2. 元组匹配"></a>2. 元组匹配</h5><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> point <span class="operator">=</span> (<span class="number">2</span>, <span class="number">2</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">switch</span> point &#123;</span><br><span class="line"><span class="keyword">case</span> (<span class="number">0</span>, <span class="number">0</span>):</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;原点&quot;</span>)</span><br><span class="line"><span class="keyword">case</span> (<span class="keyword">_</span>, <span class="number">0</span>):</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;x轴上的点&quot;</span>)</span><br><span class="line"><span class="keyword">case</span> (<span class="number">0</span>, <span class="keyword">_</span>):</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;y轴上的点&quot;</span>)</span><br><span class="line"><span class="keyword">case</span> (<span class="operator">-</span><span class="number">2</span><span class="operator">...</span><span class="number">2</span>, <span class="operator">-</span><span class="number">2</span><span class="operator">...</span><span class="number">2</span>):</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;在2x2的正方形内&quot;</span>)</span><br><span class="line"><span class="keyword">default</span>:</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;其他点&quot;</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h5 id="3-值绑定"><a href="#3-值绑定" class="headerlink" title="3. 值绑定"></a>3. 值绑定</h5><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> point <span class="operator">=</span> (<span class="number">3</span>, <span class="number">4</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">switch</span> point &#123;</span><br><span class="line"><span class="keyword">case</span> (<span class="keyword">let</span> x, <span class="number">0</span>):</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;x轴上的点，x = <span class="subst">\(x)</span>&quot;</span>)</span><br><span class="line"><span class="keyword">case</span> (<span class="number">0</span>, <span class="keyword">let</span> y):</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;y轴上的点，y = <span class="subst">\(y)</span>&quot;</span>)</span><br><span class="line"><span class="keyword">case</span> <span class="keyword">let</span> (x, y):</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;其他点，坐标为(<span class="subst">\(x)</span>, <span class="subst">\(y)</span>)&quot;</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h5 id="4-where子句"><a href="#4-where子句" class="headerlink" title="4. where子句"></a>4. where子句</h5><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> point <span class="operator">=</span> (<span class="number">3</span>, <span class="number">4</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">switch</span> point &#123;</span><br><span class="line"><span class="keyword">case</span> <span class="keyword">let</span> (x, y) <span class="keyword">where</span> x <span class="operator">==</span> y:</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;在直线y = x上&quot;</span>)</span><br><span class="line"><span class="keyword">case</span> <span class="keyword">let</span> (x, y) <span class="keyword">where</span> x <span class="operator">==</span> <span class="operator">-</span>y:</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;在直线y = -x上&quot;</span>)</span><br><span class="line"><span class="keyword">case</span> <span class="keyword">let</span> (x, y):</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;其他点，坐标为(<span class="subst">\(x)</span>, <span class="subst">\(y)</span>)&quot;</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h5 id="5-枚举成员匹配"><a href="#5-枚举成员匹配" class="headerlink" title="5. 枚举成员匹配"></a>5. 枚举成员匹配</h5><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">enum</span> <span class="title class_">Direction</span> &#123;</span><br><span class="line">    <span class="keyword">case</span> north, south, east, west</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> direction <span class="operator">=</span> <span class="type">Direction</span>.north</span><br><span class="line"></span><br><span class="line"><span class="keyword">switch</span> direction &#123;</span><br><span class="line"><span class="keyword">case</span> .north:</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;向北&quot;</span>)</span><br><span class="line"><span class="keyword">case</span> .south:</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;向南&quot;</span>)</span><br><span class="line"><span class="keyword">case</span> .east:</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;向东&quot;</span>)</span><br><span class="line"><span class="keyword">case</span> .west:</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;向西&quot;</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="三、循环语句"><a href="#三、循环语句" class="headerlink" title="三、循环语句"></a>三、循环语句</h2><p>循环语句用于重复执行一段代码，直到满足特定条件。Swift提供了三种循环语句：<code>for-in</code>、<code>while</code>和<code>repeat-while</code>。</p>
<h3 id="1-for-in循环"><a href="#1-for-in循环" class="headerlink" title="1. for-in循环"></a>1. for-in循环</h3><p><code>for-in</code>循环用于遍历序列、集合、范围或其他可迭代对象：</p>
<h4 id="遍历范围"><a href="#遍历范围" class="headerlink" title="遍历范围"></a>遍历范围</h4><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 遍历闭区间</span></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="number">1</span><span class="operator">...</span><span class="number">5</span> &#123;</span><br><span class="line">    <span class="built_in">print</span>(i) <span class="comment">// 输出：1, 2, 3, 4, 5</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 遍历半开区间</span></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="number">1</span><span class="operator">..&lt;</span><span class="number">5</span> &#123;</span><br><span class="line">    <span class="built_in">print</span>(i) <span class="comment">// 输出：1, 2, 3, 4</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 遍历单侧区间</span></span><br><span class="line"><span class="keyword">let</span> numbers <span class="operator">=</span> [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>]</span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="number">0</span><span class="operator">..&lt;</span>numbers.count &#123;</span><br><span class="line">    <span class="built_in">print</span>(numbers[i])</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="遍历集合"><a href="#遍历集合" class="headerlink" title="遍历集合"></a>遍历集合</h4><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 遍历数组</span></span><br><span class="line"><span class="keyword">let</span> fruits <span class="operator">=</span> [<span class="string">&quot;苹果&quot;</span>, <span class="string">&quot;香蕉&quot;</span>, <span class="string">&quot;橙子&quot;</span>]</span><br><span class="line"><span class="keyword">for</span> fruit <span class="keyword">in</span> fruits &#123;</span><br><span class="line">    <span class="built_in">print</span>(fruit)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 遍历集合</span></span><br><span class="line"><span class="keyword">let</span> colors: <span class="type">Set</span>&lt;<span class="type">String</span>&gt; <span class="operator">=</span> [<span class="string">&quot;红&quot;</span>, <span class="string">&quot;绿&quot;</span>, <span class="string">&quot;蓝&quot;</span>]</span><br><span class="line"><span class="keyword">for</span> color <span class="keyword">in</span> colors &#123;</span><br><span class="line">    <span class="built_in">print</span>(color)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 遍历字典</span></span><br><span class="line"><span class="keyword">let</span> scores <span class="operator">=</span> [<span class="string">&quot;语文&quot;</span>: <span class="number">90</span>, <span class="string">&quot;数学&quot;</span>: <span class="number">95</span>, <span class="string">&quot;英语&quot;</span>: <span class="number">88</span>]</span><br><span class="line"><span class="keyword">for</span> (subject, score) <span class="keyword">in</span> scores &#123;</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;<span class="subst">\(subject)</span>：<span class="subst">\(score)</span>分&quot;</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="遍历字符串"><a href="#遍历字符串" class="headerlink" title="遍历字符串"></a>遍历字符串</h4><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> text <span class="operator">=</span> <span class="string">&quot;Swift&quot;</span></span><br><span class="line"><span class="keyword">for</span> character <span class="keyword">in</span> text &#123;</span><br><span class="line">    <span class="built_in">print</span>(character)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="使用stride函数"><a href="#使用stride函数" class="headerlink" title="使用stride函数"></a>使用stride函数</h4><p><code>stride</code>函数用于创建一个按指定步长递增或递减的序列：</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 从0开始，到10结束，步长为2</span></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">stride</span>(from: <span class="number">0</span>, to: <span class="number">10</span>, by: <span class="number">2</span>) &#123;</span><br><span class="line">    <span class="built_in">print</span>(i) <span class="comment">// 输出：0, 2, 4, 6, 8</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 从10开始，到0结束，步长为-2</span></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">stride</span>(from: <span class="number">10</span>, through: <span class="number">0</span>, by: <span class="operator">-</span><span class="number">2</span>) &#123;</span><br><span class="line">    <span class="built_in">print</span>(i) <span class="comment">// 输出：10, 8, 6, 4, 2, 0</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="2-while循环"><a href="#2-while循环" class="headerlink" title="2. while循环"></a>2. while循环</h3><p><code>while</code>循环在条件为真时重复执行代码块，先判断条件再执行：</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> count <span class="operator">=</span> <span class="number">0</span></span><br><span class="line"><span class="keyword">while</span> count <span class="operator">&lt;</span> <span class="number">5</span> &#123;</span><br><span class="line">    <span class="built_in">print</span>(count)</span><br><span class="line">    count <span class="operator">+=</span> <span class="number">1</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// 输出：0, 1, 2, 3, 4</span></span><br></pre></td></tr></table></figure>

<h3 id="3-repeat-while循环"><a href="#3-repeat-while循环" class="headerlink" title="3. repeat-while循环"></a>3. repeat-while循环</h3><p><code>repeat-while</code>循环（相当于其他语言中的<code>do-while</code>循环）先执行代码块，再判断条件：</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> index <span class="operator">=</span> <span class="number">0</span></span><br><span class="line"><span class="keyword">repeat</span> &#123;</span><br><span class="line">    <span class="built_in">print</span>(index)</span><br><span class="line">    index <span class="operator">+=</span> <span class="number">1</span></span><br><span class="line">&#125; <span class="keyword">while</span> index <span class="operator">&lt;</span> <span class="number">5</span></span><br><span class="line"><span class="comment">// 输出：0, 1, 2, 3, 4</span></span><br></pre></td></tr></table></figure>

<p><code>repeat-while</code>循环保证代码块至少执行一次：</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> number <span class="operator">=</span> <span class="number">5</span></span><br><span class="line"><span class="keyword">repeat</span> &#123;</span><br><span class="line">    <span class="built_in">print</span>(number)</span><br><span class="line">    number <span class="operator">-=</span> <span class="number">1</span></span><br><span class="line">&#125; <span class="keyword">while</span> number <span class="operator">&gt;</span> <span class="number">5</span></span><br><span class="line"><span class="comment">// 输出：5</span></span><br></pre></td></tr></table></figure>

<h3 id="4-函数式循环（高阶函数）"><a href="#4-函数式循环（高阶函数）" class="headerlink" title="4. 函数式循环（高阶函数）"></a>4. 函数式循环（高阶函数）</h3><p>除了传统的循环语句外，Swift还提供了函数式编程的方式来处理集合，这些方式更加简洁和声明式。常用的高阶函数包括<code>map</code>、<code>filter</code>、<code>reduce</code>等。</p>
<h4 id="1-map方法"><a href="#1-map方法" class="headerlink" title="1. map方法"></a>1. map方法</h4><p><code>map</code>方法用于对集合中的每个元素应用一个转换函数，并返回一个包含转换后元素的新集合：</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 对数组中的每个元素进行平方运算</span></span><br><span class="line"><span class="keyword">let</span> numbers <span class="operator">=</span> [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>]</span><br><span class="line"><span class="keyword">let</span> squaredNumbers <span class="operator">=</span> numbers.map &#123; <span class="variable">$0</span> <span class="operator">*</span> <span class="variable">$0</span> &#125;</span><br><span class="line"><span class="built_in">print</span>(squaredNumbers) <span class="comment">// 输出：[1, 4, 9, 16, 25]</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 将字符串转换为整数</span></span><br><span class="line"><span class="keyword">let</span> stringNumbers <span class="operator">=</span> [<span class="string">&quot;1&quot;</span>, <span class="string">&quot;2&quot;</span>, <span class="string">&quot;3&quot;</span>, <span class="string">&quot;4&quot;</span>, <span class="string">&quot;5&quot;</span>]</span><br><span class="line"><span class="keyword">let</span> integers <span class="operator">=</span> stringNumbers.map &#123; <span class="type">Int</span>(<span class="variable">$0</span>)<span class="operator">!</span> &#125;</span><br><span class="line"><span class="built_in">print</span>(integers) <span class="comment">// 输出：[1, 2, 3, 4, 5]</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 使用完整的闭包语法</span></span><br><span class="line"><span class="keyword">let</span> doubledNumbers <span class="operator">=</span> numbers.map(&#123; (number: <span class="type">Int</span>) -&gt; <span class="type">Int</span> <span class="keyword">in</span></span><br><span class="line">    <span class="keyword">return</span> number <span class="operator">*</span> <span class="number">2</span></span><br><span class="line">&#125;)</span><br><span class="line"><span class="built_in">print</span>(doubledNumbers) <span class="comment">// 输出：[2, 4, 6, 8, 10]</span></span><br></pre></td></tr></table></figure>

<h4 id="2-filter方法"><a href="#2-filter方法" class="headerlink" title="2. filter方法"></a>2. filter方法</h4><p><code>filter</code>方法用于根据条件过滤集合中的元素，并返回一个包含满足条件元素的新集合：</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 过滤出偶数</span></span><br><span class="line"><span class="keyword">let</span> evenNumbers <span class="operator">=</span> numbers.filter &#123; <span class="variable">$0</span> <span class="operator">%</span> <span class="number">2</span> <span class="operator">==</span> <span class="number">0</span> &#125;</span><br><span class="line"><span class="built_in">print</span>(evenNumbers) <span class="comment">// 输出：[2, 4]</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 过滤出大于3的数</span></span><br><span class="line"><span class="keyword">let</span> greaterThanThree <span class="operator">=</span> numbers.filter &#123; <span class="variable">$0</span> <span class="operator">&gt;</span> <span class="number">3</span> &#125;</span><br><span class="line"><span class="built_in">print</span>(greaterThanThree) <span class="comment">// 输出：[4, 5]</span></span><br></pre></td></tr></table></figure>

<h4 id="3-reduce方法"><a href="#3-reduce方法" class="headerlink" title="3. reduce方法"></a>3. reduce方法</h4><p><code>reduce</code>方法用于将集合中的所有元素合并为一个值：</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 计算数组元素的和</span></span><br><span class="line"><span class="keyword">let</span> sum <span class="operator">=</span> numbers.reduce(<span class="number">0</span>, &#123; <span class="variable">$0</span> <span class="operator">+</span> <span class="variable">$1</span> &#125;)</span><br><span class="line"><span class="built_in">print</span>(sum) <span class="comment">// 输出：15</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 使用运算符函数</span></span><br><span class="line"><span class="keyword">let</span> product <span class="operator">=</span> numbers.reduce(<span class="number">1</span>, <span class="operator">*</span>)</span><br><span class="line"><span class="built_in">print</span>(product) <span class="comment">// 输出：120</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 拼接字符串</span></span><br><span class="line"><span class="keyword">let</span> fruits <span class="operator">=</span> [<span class="string">&quot;苹果&quot;</span>, <span class="string">&quot;香蕉&quot;</span>, <span class="string">&quot;橙子&quot;</span>]</span><br><span class="line"><span class="keyword">let</span> fruitString <span class="operator">=</span> fruits.reduce(<span class="string">&quot;水果列表：&quot;</span>) &#123; <span class="variable">$0</span> <span class="operator">+</span> <span class="string">&quot;, &quot;</span> <span class="operator">+</span> <span class="variable">$1</span> &#125;</span><br><span class="line"><span class="built_in">print</span>(fruitString) <span class="comment">// 输出：水果列表：, 苹果, 香蕉, 橙子</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 处理初始值的情况</span></span><br><span class="line"><span class="keyword">let</span> cleanFruitString <span class="operator">=</span> fruits.reduce(<span class="string">&quot;&quot;</span>) &#123; result, fruit <span class="keyword">in</span></span><br><span class="line">    <span class="keyword">if</span> result.isEmpty &#123;</span><br><span class="line">        <span class="keyword">return</span> fruit</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> result <span class="operator">+</span> <span class="string">&quot;, &quot;</span> <span class="operator">+</span> fruit</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">print</span>(cleanFruitString) <span class="comment">// 输出：苹果, 香蕉, 橙子</span></span><br></pre></td></tr></table></figure>

<h4 id="4-链式调用"><a href="#4-链式调用" class="headerlink" title="4. 链式调用"></a>4. 链式调用</h4><p>这些高阶函数可以链式调用，实现更复杂的操作：</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 先过滤出偶数，然后对每个元素进行平方运算，最后计算总和</span></span><br><span class="line"><span class="keyword">let</span> evenSquaredSum <span class="operator">=</span> numbers.filter &#123; <span class="variable">$0</span> <span class="operator">%</span> <span class="number">2</span> <span class="operator">==</span> <span class="number">0</span> &#125;</span><br><span class="line">                             .map &#123; <span class="variable">$0</span> <span class="operator">*</span> <span class="variable">$0</span> &#125;</span><br><span class="line">                             .reduce(<span class="number">0</span>, <span class="operator">+</span>)</span><br><span class="line"><span class="built_in">print</span>(evenSquaredSum) <span class="comment">// 输出：20 (2² + 4² = 4 + 16 = 20)</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 先将数字转换为字符串，然后过滤出长度大于1的字符串，最后拼接</span></span><br><span class="line"><span class="keyword">let</span> result <span class="operator">=</span> numbers.map &#123; <span class="type">String</span>(<span class="variable">$0</span>) &#125;</span><br><span class="line">                    .filter &#123; <span class="variable">$0</span>.count <span class="operator">&gt;</span> <span class="number">1</span> &#125;</span><br><span class="line">                    .reduce(<span class="string">&quot;&quot;</span>, &#123; <span class="variable">$0</span>.isEmpty <span class="operator">?</span> <span class="variable">$1</span> : <span class="variable">$0</span> <span class="operator">+</span> <span class="string">&quot;, &quot;</span> <span class="operator">+</span> <span class="variable">$1</span> &#125;)</span><br><span class="line"><span class="built_in">print</span>(result) <span class="comment">// 输出：(空字符串，因为1-5转换为字符串后长度都为1)</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 使用更大的数字演示</span></span><br><span class="line"><span class="keyword">let</span> largerNumbers <span class="operator">=</span> [<span class="number">1</span>, <span class="number">10</span>, <span class="number">2</span>, <span class="number">20</span>, <span class="number">3</span>, <span class="number">30</span>]</span><br><span class="line"><span class="keyword">let</span> largeResult <span class="operator">=</span> largerNumbers.map &#123; <span class="type">String</span>(<span class="variable">$0</span>) &#125;</span><br><span class="line">                               .filter &#123; <span class="variable">$0</span>.count <span class="operator">&gt;</span> <span class="number">1</span> &#125;</span><br><span class="line">                               .reduce(<span class="string">&quot;&quot;</span>, &#123; <span class="variable">$0</span>.isEmpty <span class="operator">?</span> <span class="variable">$1</span> : <span class="variable">$0</span> <span class="operator">+</span> <span class="string">&quot;, &quot;</span> <span class="operator">+</span> <span class="variable">$1</span> &#125;)</span><br><span class="line"><span class="built_in">print</span>(largeResult) <span class="comment">// 输出：10, 20, 30</span></span><br></pre></td></tr></table></figure>

<p>这些高阶函数提供了一种更加声明式的方式来处理集合，使代码更加简洁和易读。在实际开发中，它们经常被用来替代传统的循环语句。</p>
<h2 id="四、控制转移语句"><a href="#四、控制转移语句" class="headerlink" title="四、控制转移语句"></a>四、控制转移语句</h2><p>控制转移语句用于改变代码的执行顺序，Swift提供了以下控制转移语句：<code>break</code>、<code>continue</code>、<code>fallthrough</code>、<code>return</code>和<code>throw</code>。</p>
<h3 id="1-break语句"><a href="#1-break语句" class="headerlink" title="1. break语句"></a>1. break语句</h3><p><code>break</code>语句用于终止循环或<code>switch</code>语句的执行：</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 终止for-in循环</span></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="number">1</span><span class="operator">...</span><span class="number">10</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> i <span class="operator">==</span> <span class="number">5</span> &#123;</span><br><span class="line">        <span class="keyword">break</span> <span class="comment">// 当i等于5时，终止循环</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">print</span>(i)</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// 输出：1, 2, 3, 4</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 终止while循环</span></span><br><span class="line"><span class="keyword">var</span> count <span class="operator">=</span> <span class="number">0</span></span><br><span class="line"><span class="keyword">while</span> count <span class="operator">&lt;</span> <span class="number">10</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> count <span class="operator">==</span> <span class="number">5</span> &#123;</span><br><span class="line">        <span class="keyword">break</span> <span class="comment">// 当count等于5时，终止循环</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">print</span>(count)</span><br><span class="line">    count <span class="operator">+=</span> <span class="number">1</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// 输出：0, 1, 2, 3, 4</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 终止switch语句</span></span><br><span class="line"><span class="keyword">let</span> number <span class="operator">=</span> <span class="number">1</span></span><br><span class="line"><span class="keyword">switch</span> number &#123;</span><br><span class="line"><span class="keyword">case</span> <span class="number">1</span>:</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;数字1&quot;</span>)</span><br><span class="line">    <span class="keyword">break</span> <span class="comment">// 终止switch语句</span></span><br><span class="line"><span class="keyword">case</span> <span class="number">2</span>:</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;数字2&quot;</span>)</span><br><span class="line"><span class="keyword">default</span>:</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;其他数字&quot;</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="2-continue语句"><a href="#2-continue语句" class="headerlink" title="2. continue语句"></a>2. continue语句</h3><p><code>continue</code>语句用于跳过当前循环迭代，继续执行下一次迭代：</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 在for-in循环中使用continue</span></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="number">1</span><span class="operator">...</span><span class="number">10</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> i <span class="operator">%</span> <span class="number">2</span> <span class="operator">==</span> <span class="number">0</span> &#123;</span><br><span class="line">        <span class="keyword">continue</span> <span class="comment">// 跳过偶数</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">print</span>(i)</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// 输出：1, 3, 5, 7, 9</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 在while循环中使用continue</span></span><br><span class="line"><span class="keyword">var</span> count <span class="operator">=</span> <span class="number">0</span></span><br><span class="line"><span class="keyword">while</span> count <span class="operator">&lt;</span> <span class="number">10</span> &#123;</span><br><span class="line">    count <span class="operator">+=</span> <span class="number">1</span></span><br><span class="line">    <span class="keyword">if</span> count <span class="operator">%</span> <span class="number">2</span> <span class="operator">==</span> <span class="number">0</span> &#123;</span><br><span class="line">        <span class="keyword">continue</span> <span class="comment">// 跳过偶数</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">print</span>(count)</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// 输出：1, 3, 5, 7, 9</span></span><br></pre></td></tr></table></figure>

<h3 id="3-fallthrough语句"><a href="#3-fallthrough语句" class="headerlink" title="3. fallthrough语句"></a>3. fallthrough语句</h3><p><code>fallthrough</code>语句用于在<code>switch</code>语句中执行完当前<code>case</code>后，继续执行下一个<code>case</code>：</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> number <span class="operator">=</span> <span class="number">1</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">switch</span> number &#123;</span><br><span class="line"><span class="keyword">case</span> <span class="number">1</span>:</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;数字1&quot;</span>)</span><br><span class="line">    <span class="keyword">fallthrough</span></span><br><span class="line"><span class="keyword">case</span> <span class="number">2</span>:</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;数字2&quot;</span>)</span><br><span class="line"><span class="keyword">default</span>:</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;其他数字&quot;</span>)</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// 输出：</span></span><br><span class="line"><span class="comment">// 数字1</span></span><br><span class="line"><span class="comment">// 数字2</span></span><br></pre></td></tr></table></figure>

<h3 id="4-return语句"><a href="#4-return语句" class="headerlink" title="4. return语句"></a>4. return语句</h3><p><code>return</code>语句用于从函数或方法中返回，并可选地返回一个值：</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">func</span> <span class="title function_">add</span>(<span class="params">a</span>: <span class="type">Int</span>, <span class="params">b</span>: <span class="type">Int</span>) -&gt; <span class="type">Int</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> a <span class="operator">+</span> b <span class="comment">// 返回a + b的值</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">func</span> <span class="title function_">greet</span>(<span class="params">name</span>: <span class="type">String</span>) &#123;</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;Hello, <span class="subst">\(name)</span>!&quot;</span>)</span><br><span class="line">    <span class="keyword">return</span> <span class="comment">// 返回，后面的代码不会执行</span></span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;This line will not be executed.&quot;</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="五、带标签的语句"><a href="#五、带标签的语句" class="headerlink" title="五、带标签的语句"></a>五、带标签的语句</h2><p>在Swift中，可以为循环或<code>switch</code>语句添加标签，以便在嵌套结构中精确控制：</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">outerLoop: <span class="keyword">for</span> i <span class="keyword">in</span> <span class="number">1</span><span class="operator">...</span><span class="number">3</span> &#123;</span><br><span class="line">    innerLoop: <span class="keyword">for</span> j <span class="keyword">in</span> <span class="number">1</span><span class="operator">...</span><span class="number">3</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> i <span class="operator">==</span> <span class="number">2</span> <span class="operator">&amp;&amp;</span> j <span class="operator">==</span> <span class="number">2</span> &#123;</span><br><span class="line">            <span class="keyword">break</span> outerLoop <span class="comment">// 终止外部循环</span></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;i = <span class="subst">\(i)</span>, j = <span class="subst">\(j)</span>&quot;</span>)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// 输出：</span></span><br><span class="line"><span class="comment">// i = 1, j = 1</span></span><br><span class="line"><span class="comment">// i = 1, j = 2</span></span><br><span class="line"><span class="comment">// i = 1, j = 3</span></span><br><span class="line"><span class="comment">// i = 2, j = 1</span></span><br></pre></td></tr></table></figure>

<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">outerLoop: <span class="keyword">for</span> i <span class="keyword">in</span> <span class="number">1</span><span class="operator">...</span><span class="number">3</span> &#123;</span><br><span class="line">    innerLoop: <span class="keyword">for</span> j <span class="keyword">in</span> <span class="number">1</span><span class="operator">...</span><span class="number">3</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> i <span class="operator">==</span> <span class="number">2</span> <span class="operator">&amp;&amp;</span> j <span class="operator">==</span> <span class="number">2</span> &#123;</span><br><span class="line">            <span class="keyword">continue</span> outerLoop <span class="comment">// 继续外部循环的下一次迭代</span></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;i = <span class="subst">\(i)</span>, j = <span class="subst">\(j)</span>&quot;</span>)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// 输出：</span></span><br><span class="line"><span class="comment">// i = 1, j = 1</span></span><br><span class="line"><span class="comment">// i = 1, j = 2</span></span><br><span class="line"><span class="comment">// i = 1, j = 3</span></span><br><span class="line"><span class="comment">// i = 2, j = 1</span></span><br><span class="line"><span class="comment">// i = 3, j = 1</span></span><br><span class="line"><span class="comment">// i = 3, j = 2</span></span><br><span class="line"><span class="comment">// i = 3, j = 3</span></span><br></pre></td></tr></table></figure>

<h2 id="六、API可用性检查"><a href="#六、API可用性检查" class="headerlink" title="六、API可用性检查"></a>六、API可用性检查</h2><p>在Swift中，可以使用<code>#available</code>关键字检查API的可用性，确保代码在不同的iOS版本上都能正常运行：</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> <span class="keyword">#available</span>(<span class="keyword">iOS</span> <span class="number">15.0</span>, <span class="operator">*</span>) &#123;</span><br><span class="line">    <span class="comment">// 使用iOS 15.0及以上版本可用的API</span></span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;使用iOS 15.0的新特性&quot;</span>)</span><br><span class="line">&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    <span class="comment">// 使用兼容旧版本的API</span></span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;使用兼容旧版本的实现&quot;</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><code>#available</code>关键字的语法为：</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">#available</span>(platform name version, <span class="operator">...</span>, <span class="operator">*</span>)</span><br></pre></td></tr></table></figure>

<p>其中：</p>
<ul>
<li><code>platform name</code>是平台名称，如iOS、macOS、watchOS等</li>
<li><code>version</code>是版本号</li>
<li><code>*</code>表示在所有其他平台上可用</li>
</ul>
<h2 id="七、内容机制与知识点总结"><a href="#七、内容机制与知识点总结" class="headerlink" title="七、内容机制与知识点总结"></a>七、内容机制与知识点总结</h2><h3 id="1-内容机制"><a href="#1-内容机制" class="headerlink" title="1. 内容机制"></a>1. 内容机制</h3><p>Swift的控制流系统设计遵循以下核心原则：</p>
<ul>
<li><strong>简洁性</strong>：通过自动退出<code>switch</code>语句、可选绑定等特性，减少冗余代码</li>
<li><strong>安全性</strong>：<code>guard</code>语句强制处理错误情况，避免潜在的运行时错误</li>
<li><strong>灵活性</strong>：支持多种匹配模式和控制转移方式，适应不同的编程场景</li>
<li><strong>可读性</strong>：清晰的语法结构和命名约定，提高代码的可维护性</li>
</ul>
<h3 id="2-知识点总结"><a href="#2-知识点总结" class="headerlink" title="2. 知识点总结"></a>2. 知识点总结</h3><table>
<thead>
<tr>
<th>主题</th>
<th>核心知识点</th>
</tr>
</thead>
<tbody><tr>
<td>条件语句</td>
<td>if-else、嵌套if-else、guard语句、switch语句</td>
</tr>
<tr>
<td>Switch特性</td>
<td>自动退出、fallthrough、区间匹配、元组匹配、值绑定、where子句</td>
</tr>
<tr>
<td>循环语句</td>
<td>for-in循环、while循环、repeat-while循环、stride函数</td>
</tr>
<tr>
<td>函数式循环</td>
<td>map、filter、reduce、链式调用</td>
</tr>
<tr>
<td>控制转移</td>
<td>break、continue、fallthrough、return</td>
</tr>
<tr>
<td>带标签语句</td>
<td>标签定义、标签化break&#x2F;continue</td>
</tr>
<tr>
<td>API可用性</td>
<td>#available关键字、平台版本检查</td>
</tr>
</tbody></table>
<h2 id="八、遇到的问题及解决方案"><a href="#八、遇到的问题及解决方案" class="headerlink" title="八、遇到的问题及解决方案"></a>八、遇到的问题及解决方案</h2><h3 id="1-过多的嵌套if-else导致代码可读性差"><a href="#1-过多的嵌套if-else导致代码可读性差" class="headerlink" title="1. 过多的嵌套if-else导致代码可读性差"></a>1. 过多的嵌套if-else导致代码可读性差</h3><p><strong>问题</strong>：当有多个条件需要检查时，嵌套的if-else语句会使代码变得难以阅读和维护</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> condition1 &#123;</span><br><span class="line">    <span class="keyword">if</span> condition2 &#123;</span><br><span class="line">        <span class="keyword">if</span> condition3 &#123;</span><br><span class="line">            <span class="comment">// 代码逻辑</span></span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="comment">// 错误处理</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="comment">// 错误处理</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    <span class="comment">// 错误处理</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>解决方案</strong>：使用guard语句提前退出，减少嵌套层级</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">guard</span> condition1 <span class="keyword">else</span> &#123;</span><br><span class="line">    <span class="comment">// 错误处理</span></span><br><span class="line">    <span class="keyword">return</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">guard</span> condition2 <span class="keyword">else</span> &#123;</span><br><span class="line">    <span class="comment">// 错误处理</span></span><br><span class="line">    <span class="keyword">return</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">guard</span> condition3 <span class="keyword">else</span> &#123;</span><br><span class="line">    <span class="comment">// 错误处理</span></span><br><span class="line">    <span class="keyword">return</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 代码逻辑</span></span><br></pre></td></tr></table></figure>

<h3 id="2-Switch语句缺少默认分支"><a href="#2-Switch语句缺少默认分支" class="headerlink" title="2. Switch语句缺少默认分支"></a>2. Switch语句缺少默认分支</h3><p><strong>问题</strong>：当switch语句没有覆盖所有可能的情况且缺少default分支时，会导致编译错误</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">enum</span> <span class="title class_">Direction</span> &#123; <span class="keyword">case</span> north, south, east, west &#125;</span><br><span class="line"><span class="keyword">let</span> direction <span class="operator">=</span> <span class="type">Direction</span>.north</span><br><span class="line"></span><br><span class="line"><span class="keyword">switch</span> direction &#123;</span><br><span class="line"><span class="keyword">case</span> .north:</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;向北&quot;</span>)</span><br><span class="line"><span class="keyword">case</span> .south:</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;向南&quot;</span>)</span><br><span class="line"><span class="comment">// 缺少east和west的case，也没有default分支</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>解决方案</strong>：确保覆盖所有可能的情况，或添加default分支</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">switch</span> direction &#123;</span><br><span class="line"><span class="keyword">case</span> .north:</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;向北&quot;</span>)</span><br><span class="line"><span class="keyword">case</span> .south:</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;向南&quot;</span>)</span><br><span class="line"><span class="keyword">default</span>:</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;向东或向西&quot;</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="3-意外的fallthrough行为"><a href="#3-意外的fallthrough行为" class="headerlink" title="3. 意外的fallthrough行为"></a>3. 意外的fallthrough行为</h3><p><strong>问题</strong>：在switch语句中忘记fallthrough关键字会导致代码不按预期执行</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> number <span class="operator">=</span> <span class="number">1</span></span><br><span class="line"><span class="keyword">switch</span> number &#123;</span><br><span class="line"><span class="keyword">case</span> <span class="number">1</span>:</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;数字1&quot;</span>)</span><br><span class="line">    <span class="comment">// 期望执行下一个case，但忘记了fallthrough</span></span><br><span class="line"><span class="keyword">case</span> <span class="number">2</span>:</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;数字2&quot;</span>) <span class="comment">// 不会执行</span></span><br><span class="line"><span class="keyword">default</span>:</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;其他数字&quot;</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>解决方案</strong>：明确使用fallthrough关键字，或重构代码以避免依赖fallthrough</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 方法1：使用fallthrough</span></span><br><span class="line"><span class="keyword">switch</span> number &#123;</span><br><span class="line"><span class="keyword">case</span> <span class="number">1</span>:</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;数字1&quot;</span>)</span><br><span class="line">    <span class="keyword">fallthrough</span></span><br><span class="line"><span class="keyword">case</span> <span class="number">2</span>:</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;数字2&quot;</span>) <span class="comment">// 会执行</span></span><br><span class="line"><span class="keyword">default</span>:</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;其他数字&quot;</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 方法2：重构代码</span></span><br><span class="line"><span class="keyword">if</span> number <span class="operator">==</span> <span class="number">1</span> &#123;</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;数字1&quot;</span>)</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">if</span> number <span class="operator">==</span> <span class="number">1</span> <span class="operator">||</span> number <span class="operator">==</span> <span class="number">2</span> &#123;</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;数字2&quot;</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="4-死循环问题"><a href="#4-死循环问题" class="headerlink" title="4. 死循环问题"></a>4. 死循环问题</h3><p><strong>问题</strong>：循环条件永远为真，导致程序陷入死循环</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> count <span class="operator">=</span> <span class="number">0</span></span><br><span class="line"><span class="keyword">while</span> count <span class="operator">&lt;</span> <span class="number">5</span> &#123;</span><br><span class="line">    <span class="built_in">print</span>(count)</span><br><span class="line">    <span class="comment">// 忘记递增count，导致死循环</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>解决方案</strong>：确保循环条件最终会变为假，并在循环体内更新相关变量</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> count <span class="operator">=</span> <span class="number">0</span></span><br><span class="line"><span class="keyword">while</span> count <span class="operator">&lt;</span> <span class="number">5</span> &#123;</span><br><span class="line">    <span class="built_in">print</span>(count)</span><br><span class="line">    count <span class="operator">+=</span> <span class="number">1</span> <span class="comment">// 递增count，确保循环最终会结束</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="5-高阶函数性能问题"><a href="#5-高阶函数性能问题" class="headerlink" title="5. 高阶函数性能问题"></a>5. 高阶函数性能问题</h3><p><strong>问题</strong>：在处理大型数据集时，链式调用多个高阶函数可能导致性能问题</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> largeArray <span class="operator">=</span> <span class="type">Array</span>(<span class="number">0</span><span class="operator">..&lt;</span><span class="number">1000000</span>)</span><br><span class="line"><span class="keyword">let</span> result <span class="operator">=</span> largeArray.filter &#123; <span class="variable">$0</span> <span class="operator">%</span> <span class="number">2</span> <span class="operator">==</span> <span class="number">0</span> &#125;</span><br><span class="line">                       .map &#123; <span class="variable">$0</span> <span class="operator">*</span> <span class="variable">$0</span> &#125;</span><br><span class="line">                       .reduce(<span class="number">0</span>, <span class="operator">+</span>)</span><br></pre></td></tr></table></figure>

<p><strong>解决方案</strong>：使用传统循环或优化高阶函数调用</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 方法1：使用传统循环（减少中间数组的创建）</span></span><br><span class="line"><span class="keyword">var</span> sum <span class="operator">=</span> <span class="number">0</span></span><br><span class="line"><span class="keyword">for</span> number <span class="keyword">in</span> largeArray &#123;</span><br><span class="line">    <span class="keyword">if</span> number <span class="operator">%</span> <span class="number">2</span> <span class="operator">==</span> <span class="number">0</span> &#123;</span><br><span class="line">        sum <span class="operator">+=</span> number <span class="operator">*</span> number</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 方法2：使用lazy修饰符（延迟计算）</span></span><br><span class="line"><span class="keyword">let</span> result <span class="operator">=</span> largeArray.lazy.filter &#123; <span class="variable">$0</span> <span class="operator">%</span> <span class="number">2</span> <span class="operator">==</span> <span class="number">0</span> &#125;</span><br><span class="line">                           .map &#123; <span class="variable">$0</span> <span class="operator">*</span> <span class="variable">$0</span> &#125;</span><br><span class="line">                           .reduce(<span class="number">0</span>, <span class="operator">+</span>)</span><br></pre></td></tr></table></figure>

<h2 id="九、高阶用法"><a href="#九、高阶用法" class="headerlink" title="九、高阶用法"></a>九、高阶用法</h2><h3 id="1-高级条件语句技巧"><a href="#1-高级条件语句技巧" class="headerlink" title="1. 高级条件语句技巧"></a>1. 高级条件语句技巧</h3><h4 id="可选绑定的高级用法"><a href="#可选绑定的高级用法" class="headerlink" title="可选绑定的高级用法"></a>可选绑定的高级用法</h4><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 同时绑定多个可选值</span></span><br><span class="line"><span class="keyword">if</span> <span class="keyword">let</span> name <span class="operator">=</span> optionalName, <span class="keyword">let</span> age <span class="operator">=</span> optionalAge, age <span class="operator">&gt;=</span> <span class="number">18</span> &#123;</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;<span class="subst">\(name)</span>已满18岁&quot;</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 在guard中使用可选绑定</span></span><br><span class="line"><span class="keyword">guard</span> <span class="keyword">let</span> name <span class="operator">=</span> optionalName, <span class="keyword">let</span> age <span class="operator">=</span> optionalAge <span class="keyword">else</span> &#123;</span><br><span class="line">    <span class="keyword">return</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;<span class="subst">\(name)</span>的年龄是<span class="subst">\(age)</span>&quot;</span>)</span><br></pre></td></tr></table></figure>

<h4 id="Switch语句的高级匹配模式"><a href="#Switch语句的高级匹配模式" class="headerlink" title="Switch语句的高级匹配模式"></a>Switch语句的高级匹配模式</h4><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 枚举关联值匹配</span></span><br><span class="line"><span class="keyword">enum</span> <span class="title class_">Result</span> &#123;</span><br><span class="line">    <span class="keyword">case</span> success(<span class="type">Int</span>)</span><br><span class="line">    <span class="keyword">case</span> failure(<span class="type">Error</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> result <span class="operator">=</span> <span class="type">Result</span>.success(<span class="number">42</span>)</span><br><span class="line"><span class="keyword">switch</span> result &#123;</span><br><span class="line"><span class="keyword">case</span> .success(<span class="keyword">let</span> value) <span class="keyword">where</span> value <span class="operator">&gt;</span> <span class="number">0</span>:</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;成功，值为<span class="subst">\(value)</span>&quot;</span>)</span><br><span class="line"><span class="keyword">case</span> .success(<span class="number">0</span>):</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;成功，但值为0&quot;</span>)</span><br><span class="line"><span class="keyword">case</span> .failure(<span class="keyword">let</span> error):</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;失败，错误：<span class="subst">\(error)</span>&quot;</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 类型匹配</span></span><br><span class="line"><span class="keyword">func</span> <span class="title function_">processValue</span>(<span class="keyword">_</span> <span class="params">value</span>: <span class="keyword">Any</span>) &#123;</span><br><span class="line">    <span class="keyword">switch</span> value &#123;</span><br><span class="line">    <span class="keyword">case</span> <span class="keyword">let</span> number <span class="keyword">as</span> <span class="type">Int</span>:</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;整数：<span class="subst">\(number)</span>&quot;</span>)</span><br><span class="line">    <span class="keyword">case</span> <span class="keyword">let</span> text <span class="keyword">as</span> <span class="type">String</span>:</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;字符串：<span class="subst">\(text)</span>&quot;</span>)</span><br><span class="line">    <span class="keyword">case</span> <span class="keyword">let</span> array <span class="keyword">as</span> [<span class="keyword">Any</span>]:</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;数组，包含<span class="subst">\(array.count)</span>个元素&quot;</span>)</span><br><span class="line">    <span class="keyword">default</span>:</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;其他类型&quot;</span>)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="2-高级循环技巧"><a href="#2-高级循环技巧" class="headerlink" title="2. 高级循环技巧"></a>2. 高级循环技巧</h3><h4 id="并发循环"><a href="#并发循环" class="headerlink" title="并发循环"></a>并发循环</h4><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 使用DispatchQueue.concurrentPerform进行并行循环</span></span><br><span class="line"><span class="keyword">let</span> items <span class="operator">=</span> <span class="type">Array</span>(<span class="number">0</span><span class="operator">..&lt;</span><span class="number">100</span>)</span><br><span class="line"><span class="type">DispatchQueue</span>.concurrentPerform(iterations: items.count) &#123; index <span class="keyword">in</span></span><br><span class="line">    <span class="keyword">let</span> item <span class="operator">=</span> items[index]</span><br><span class="line">    <span class="comment">// 并行处理每个item</span></span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;处理项目：<span class="subst">\(item)</span>&quot;</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="无限循环的优雅退出"><a href="#无限循环的优雅退出" class="headerlink" title="无限循环的优雅退出"></a>无限循环的优雅退出</h4><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 使用break和标签退出无限循环</span></span><br><span class="line">outerLoop:</span><br><span class="line"><span class="keyword">while</span> <span class="literal">true</span> &#123;</span><br><span class="line">    <span class="keyword">let</span> input <span class="operator">=</span> <span class="built_in">readLine</span>()</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">switch</span> input &#123;</span><br><span class="line">    <span class="keyword">case</span> <span class="string">&quot;quit&quot;</span>:</span><br><span class="line">        <span class="keyword">break</span> outerLoop <span class="comment">// 退出无限循环</span></span><br><span class="line">    <span class="keyword">case</span> <span class="string">&quot;help&quot;</span>:</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;帮助信息&quot;</span>)</span><br><span class="line">    <span class="keyword">default</span>:</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;你输入了：<span class="subst">\(input <span class="operator">??</span> <span class="string">&quot;&quot;</span>)</span>&quot;</span>)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="3-高级函数式编程"><a href="#3-高级函数式编程" class="headerlink" title="3. 高级函数式编程"></a>3. 高级函数式编程</h3><h4 id="自定义高阶函数"><a href="#自定义高阶函数" class="headerlink" title="自定义高阶函数"></a>自定义高阶函数</h4><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 自定义高阶函数：执行指定次数</span></span><br><span class="line"><span class="keyword">func</span> <span class="title function_">repeat</span>(<span class="params">times</span>: <span class="type">Int</span>, <span class="params">closure</span>: (<span class="type">Int</span>) -&gt; <span class="type">Void</span>) &#123;</span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="number">0</span><span class="operator">..&lt;</span>times &#123;</span><br><span class="line">        closure(i)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 使用自定义高阶函数</span></span><br><span class="line"><span class="keyword">repeat</span>(times: <span class="number">5</span>) &#123; index <span class="keyword">in</span></span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;执行第<span class="subst">\(index <span class="operator">+</span> <span class="number">1</span>)</span>次&quot;</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 自定义高阶函数：分组</span></span><br><span class="line"><span class="keyword">func</span> <span class="title function_">group</span>&lt;<span class="type">T</span>, <span class="type">Key</span>: <span class="type">Hashable</span>&gt;(<span class="keyword">_</span> <span class="params">elements</span>: [<span class="type">T</span>], <span class="params">by</span> <span class="params">keyPath</span>: <span class="type">KeyPath</span>&lt;<span class="type">T</span>, <span class="type">Key</span>&gt;) -&gt; [<span class="type">Key</span>: [<span class="type">T</span>]] &#123;</span><br><span class="line">    <span class="keyword">var</span> result: [<span class="type">Key</span>: [<span class="type">T</span>]] <span class="operator">=</span> [:]</span><br><span class="line">    <span class="keyword">for</span> element <span class="keyword">in</span> elements &#123;</span><br><span class="line">        <span class="keyword">let</span> key <span class="operator">=</span> element[keyPath: keyPath]</span><br><span class="line">        result[key, <span class="keyword">default</span>: []].append(element)</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> result</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 使用分组函数</span></span><br><span class="line"><span class="keyword">struct</span> <span class="title class_">Person</span> &#123;</span><br><span class="line">    <span class="keyword">let</span> name: <span class="type">String</span></span><br><span class="line">    <span class="keyword">let</span> age: <span class="type">Int</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> people <span class="operator">=</span> [</span><br><span class="line">    <span class="type">Person</span>(name: <span class="string">&quot;张三&quot;</span>, age: <span class="number">20</span>),</span><br><span class="line">    <span class="type">Person</span>(name: <span class="string">&quot;李四&quot;</span>, age: <span class="number">25</span>),</span><br><span class="line">    <span class="type">Person</span>(name: <span class="string">&quot;王五&quot;</span>, age: <span class="number">20</span>)</span><br><span class="line">]</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> groupedByAge <span class="operator">=</span> group(people, by: \.age) <span class="comment">// [20: [张三, 王五], 25: [李四]]</span></span><br></pre></td></tr></table></figure>

<h4 id="函数式编程的性能优化"><a href="#函数式编程的性能优化" class="headerlink" title="函数式编程的性能优化"></a>函数式编程的性能优化</h4><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 使用reduce替代多个高阶函数调用（减少中间数组）</span></span><br><span class="line"><span class="keyword">let</span> numbers <span class="operator">=</span> [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>, <span class="number">7</span>, <span class="number">8</span>, <span class="number">9</span>, <span class="number">10</span>]</span><br><span class="line"></span><br><span class="line"><span class="comment">// 传统方式（创建两个中间数组）</span></span><br><span class="line"><span class="keyword">let</span> evenSum1 <span class="operator">=</span> numbers.filter &#123; <span class="variable">$0</span> <span class="operator">%</span> <span class="number">2</span> <span class="operator">==</span> <span class="number">0</span> &#125;</span><br><span class="line">                     .map &#123; <span class="variable">$0</span> <span class="operator">*</span> <span class="variable">$0</span> &#125;</span><br><span class="line">                     .reduce(<span class="number">0</span>, <span class="operator">+</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">// 优化方式（只遍历一次）</span></span><br><span class="line"><span class="keyword">let</span> evenSum2 <span class="operator">=</span> numbers.reduce(<span class="number">0</span>) &#123; sum, number <span class="keyword">in</span></span><br><span class="line">    <span class="keyword">guard</span> number <span class="operator">%</span> <span class="number">2</span> <span class="operator">==</span> <span class="number">0</span> <span class="keyword">else</span> &#123; <span class="keyword">return</span> sum &#125;</span><br><span class="line">    <span class="keyword">return</span> sum <span class="operator">+</span> number <span class="operator">*</span> number</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="4-高级控制转移技巧"><a href="#4-高级控制转移技巧" class="headerlink" title="4. 高级控制转移技巧"></a>4. 高级控制转移技巧</h3><h4 id="带条件的return"><a href="#带条件的return" class="headerlink" title="带条件的return"></a>带条件的return</h4><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">func</span> <span class="title function_">validateInput</span>(<span class="keyword">_</span> <span class="params">input</span>: <span class="type">String</span>?) -&gt; <span class="type">Bool</span> &#123;</span><br><span class="line">    <span class="comment">// 检查输入是否为nil</span></span><br><span class="line">    <span class="keyword">guard</span> <span class="keyword">let</span> input <span class="operator">=</span> input <span class="keyword">else</span> &#123; <span class="keyword">return</span> <span class="literal">false</span> &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// 检查输入是否为空</span></span><br><span class="line">    <span class="keyword">guard</span> <span class="operator">!</span>input.isEmpty <span class="keyword">else</span> &#123; <span class="keyword">return</span> <span class="literal">false</span> &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// 检查输入长度</span></span><br><span class="line">    <span class="keyword">guard</span> input.count <span class="operator">&gt;=</span> <span class="number">3</span> <span class="keyword">else</span> &#123; <span class="keyword">return</span> <span class="literal">false</span> &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">return</span> <span class="literal">true</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="抛出错误替代多层return"><a href="#抛出错误替代多层return" class="headerlink" title="抛出错误替代多层return"></a>抛出错误替代多层return</h4><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">enum</span> <span class="title class_">ValidationError</span>: <span class="title class_ inherited__">Error</span> &#123;</span><br><span class="line">    <span class="keyword">case</span> nilInput</span><br><span class="line">    <span class="keyword">case</span> emptyInput</span><br><span class="line">    <span class="keyword">case</span> tooShort</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">func</span> <span class="title function_">validateInput</span>(<span class="keyword">_</span> <span class="params">input</span>: <span class="type">String</span>?) <span class="keyword">throws</span> &#123;</span><br><span class="line">    <span class="keyword">guard</span> <span class="keyword">let</span> input <span class="operator">=</span> input <span class="keyword">else</span> &#123; <span class="keyword">throw</span> <span class="type">ValidationError</span>.nilInput &#125;</span><br><span class="line">    <span class="keyword">guard</span> <span class="operator">!</span>input.isEmpty <span class="keyword">else</span> &#123; <span class="keyword">throw</span> <span class="type">ValidationError</span>.emptyInput &#125;</span><br><span class="line">    <span class="keyword">guard</span> input.count <span class="operator">&gt;=</span> <span class="number">3</span> <span class="keyword">else</span> &#123; <span class="keyword">throw</span> <span class="type">ValidationError</span>.tooShort &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 使用do-catch处理错误</span></span><br><span class="line"><span class="keyword">do</span> &#123;</span><br><span class="line">    <span class="keyword">try</span> validateInput(<span class="string">&quot;ab&quot;</span>)</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;输入有效&quot;</span>)</span><br><span class="line">&#125; <span class="keyword">catch</span> <span class="type">ValidationError</span>.nilInput &#123;</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;输入为nil&quot;</span>)</span><br><span class="line">&#125; <span class="keyword">catch</span> <span class="type">ValidationError</span>.emptyInput &#123;</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;输入为空&quot;</span>)</span><br><span class="line">&#125; <span class="keyword">catch</span> <span class="type">ValidationError</span>.tooShort &#123;</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;输入太短&quot;</span>)</span><br><span class="line">&#125; <span class="keyword">catch</span> &#123;</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;其他错误：<span class="subst">\(error)</span>&quot;</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="5-性能优化策略"><a href="#5-性能优化策略" class="headerlink" title="5. 性能优化策略"></a>5. 性能优化策略</h3><h4 id="循环优化"><a href="#循环优化" class="headerlink" title="循环优化"></a>循环优化</h4><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 预计算边界条件</span></span><br><span class="line"><span class="keyword">let</span> items <span class="operator">=</span> [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>]</span><br><span class="line"><span class="keyword">let</span> count <span class="operator">=</span> items.count <span class="comment">// 预计算数组长度</span></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="number">0</span><span class="operator">..&lt;</span>count &#123;</span><br><span class="line">    <span class="built_in">print</span>(items[i])</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 使用快速枚举（for-in）替代索引访问</span></span><br><span class="line"><span class="keyword">for</span> item <span class="keyword">in</span> items &#123;</span><br><span class="line">    <span class="built_in">print</span>(item)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="Switch语句优化"><a href="#Switch语句优化" class="headerlink" title="Switch语句优化"></a>Switch语句优化</h4><figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 将最常见的case放在前面</span></span><br><span class="line"><span class="keyword">let</span> value <span class="operator">=</span> getSomeValue()</span><br><span class="line"><span class="keyword">switch</span> value &#123;</span><br><span class="line"><span class="keyword">case</span> .commonCase:</span><br><span class="line">    <span class="comment">// 处理最常见的情况</span></span><br><span class="line"><span class="keyword">case</span> .lessCommonCase:</span><br><span class="line">    <span class="comment">// 处理不太常见的情况</span></span><br><span class="line"><span class="keyword">default</span>:</span><br><span class="line">    <span class="comment">// 处理其他情况</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="6-最佳实践"><a href="#6-最佳实践" class="headerlink" title="6. 最佳实践"></a>6. 最佳实践</h3><h4 id="条件语句"><a href="#条件语句" class="headerlink" title="条件语句"></a>条件语句</h4><ul>
<li>优先使用<code>guard</code>语句处理错误情况，提高代码可读性</li>
<li>当有3个以上条件分支时，考虑使用<code>switch</code>语句替代<code>if-else</code></li>
<li>利用Swift的模式匹配功能，简化复杂的条件判断</li>
</ul>
<h4 id="循环语句"><a href="#循环语句" class="headerlink" title="循环语句"></a>循环语句</h4><ul>
<li>优先使用<code>for-in</code>循环遍历集合，除非需要显式的索引</li>
<li>对于简单的转换和过滤操作，考虑使用高阶函数</li>
<li>处理大型数据集时，注意避免创建不必要的中间数组</li>
</ul>
<h4 id="控制转移"><a href="#控制转移" class="headerlink" title="控制转移"></a>控制转移</h4><ul>
<li>避免使用<code>fallthrough</code>，除非有明确的理由</li>
<li>使用标签化语句时，确保标签名称具有描述性</li>
<li>尽量减少<code>break</code>和<code>continue</code>的使用，使代码流程更加清晰</li>
</ul>
<h2 id="十、实践练习"><a href="#十、实践练习" class="headerlink" title="十、实践练习"></a>十、实践练习</h2><h3 id="1-条件语句应用"><a href="#1-条件语句应用" class="headerlink" title="1. 条件语句应用"></a>1. 条件语句应用</h3><p><strong>题目1</strong>：使用switch语句实现一个简单的计算器，支持+、-、*、&#x2F;四种运算。</p>
<p><strong>答案</strong>：</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 简单计算器实现</span></span><br><span class="line"><span class="keyword">func</span> <span class="title function_">calculate</span>(<span class="keyword">_</span> <span class="params">num1</span>: <span class="type">Double</span>, <span class="keyword">_</span> <span class="params">operation</span>: <span class="type">String</span>, <span class="keyword">_</span> <span class="params">num2</span>: <span class="type">Double</span>) -&gt; <span class="type">Double</span>? &#123;</span><br><span class="line">    <span class="keyword">switch</span> operation &#123;</span><br><span class="line">    <span class="keyword">case</span> <span class="string">&quot;+&quot;</span>:</span><br><span class="line">        <span class="keyword">return</span> num1 <span class="operator">+</span> num2</span><br><span class="line">    <span class="keyword">case</span> <span class="string">&quot;-&quot;</span>:</span><br><span class="line">        <span class="keyword">return</span> num1 <span class="operator">-</span> num2</span><br><span class="line">    <span class="keyword">case</span> <span class="string">&quot;*&quot;</span>:</span><br><span class="line">        <span class="keyword">return</span> num1 <span class="operator">*</span> num2</span><br><span class="line">    <span class="keyword">case</span> <span class="string">&quot;/&quot;</span>:</span><br><span class="line">        <span class="keyword">guard</span> num2 <span class="operator">!=</span> <span class="number">0</span> <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="built_in">print</span>(<span class="string">&quot;除数不能为0&quot;</span>)</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">nil</span></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> num1 <span class="operator">/</span> num2</span><br><span class="line">    <span class="keyword">default</span>:</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;不支持的运算符号&quot;</span>)</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">nil</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 测试</span></span><br><span class="line"><span class="keyword">if</span> <span class="keyword">let</span> result <span class="operator">=</span> calculate(<span class="number">10</span>, <span class="string">&quot;+&quot;</span>, <span class="number">5</span>) &#123;</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;10 + 5 = <span class="subst">\(result)</span>&quot;</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> <span class="keyword">let</span> result <span class="operator">=</span> calculate(<span class="number">10</span>, <span class="string">&quot;/&quot;</span>, <span class="number">0</span>) &#123;</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;10 / 0 = <span class="subst">\(result)</span>&quot;</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>题目2</strong>：使用guard语句重写以下嵌套的if-else代码，提高可读性。</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">func</span> <span class="title function_">processUser</span>(<span class="params">name</span>: <span class="type">String</span>?, <span class="params">age</span>: <span class="type">Int</span>?, <span class="params">email</span>: <span class="type">String</span>?) &#123;</span><br><span class="line">    <span class="keyword">if</span> <span class="keyword">let</span> name <span class="operator">=</span> name &#123;</span><br><span class="line">        <span class="keyword">if</span> <span class="keyword">let</span> age <span class="operator">=</span> age &#123;</span><br><span class="line">            <span class="keyword">if</span> <span class="keyword">let</span> email <span class="operator">=</span> email &#123;</span><br><span class="line">                <span class="keyword">if</span> age <span class="operator">&gt;=</span> <span class="number">18</span> &#123;</span><br><span class="line">                    <span class="built_in">print</span>(<span class="string">&quot;用户<span class="subst">\(name)</span>（<span class="subst">\(age)</span>岁）注册成功，邮箱：<span class="subst">\(email)</span>&quot;</span>)</span><br><span class="line">                &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                    <span class="built_in">print</span>(<span class="string">&quot;年龄必须满18岁&quot;</span>)</span><br><span class="line">                &#125;</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                <span class="built_in">print</span>(<span class="string">&quot;请提供邮箱地址&quot;</span>)</span><br><span class="line">            &#125;</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="built_in">print</span>(<span class="string">&quot;请提供年龄&quot;</span>)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;请提供姓名&quot;</span>)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>答案</strong>：</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">func</span> <span class="title function_">processUser</span>(<span class="params">name</span>: <span class="type">String</span>?, <span class="params">age</span>: <span class="type">Int</span>?, <span class="params">email</span>: <span class="type">String</span>?) &#123;</span><br><span class="line">    <span class="keyword">guard</span> <span class="keyword">let</span> name <span class="operator">=</span> name <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;请提供姓名&quot;</span>)</span><br><span class="line">        <span class="keyword">return</span></span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">guard</span> <span class="keyword">let</span> age <span class="operator">=</span> age <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;请提供年龄&quot;</span>)</span><br><span class="line">        <span class="keyword">return</span></span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">guard</span> <span class="keyword">let</span> email <span class="operator">=</span> email <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;请提供邮箱地址&quot;</span>)</span><br><span class="line">        <span class="keyword">return</span></span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">guard</span> age <span class="operator">&gt;=</span> <span class="number">18</span> <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;年龄必须满18岁&quot;</span>)</span><br><span class="line">        <span class="keyword">return</span></span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;用户<span class="subst">\(name)</span>（<span class="subst">\(age)</span>岁）注册成功，邮箱：<span class="subst">\(email)</span>&quot;</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="2-循环语句应用"><a href="#2-循环语句应用" class="headerlink" title="2. 循环语句应用"></a>2. 循环语句应用</h3><p><strong>题目3</strong>：使用for-in循环遍历1到100，计算所有偶数的和。</p>
<p><strong>答案</strong>：</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 计算1到100之间所有偶数的和</span></span><br><span class="line"><span class="keyword">var</span> sum <span class="operator">=</span> <span class="number">0</span></span><br><span class="line"><span class="keyword">for</span> number <span class="keyword">in</span> <span class="number">1</span><span class="operator">...</span><span class="number">100</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> number <span class="operator">%</span> <span class="number">2</span> <span class="operator">==</span> <span class="number">0</span> &#123;</span><br><span class="line">        sum <span class="operator">+=</span> number</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;1到100之间所有偶数的和：<span class="subst">\(sum)</span>&quot;</span>)</span><br></pre></td></tr></table></figure>

<p><strong>题目4</strong>：使用while循环实现斐波那契数列的前20项。</p>
<p><strong>答案</strong>：</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 斐波那契数列的前20项</span></span><br><span class="line"><span class="keyword">var</span> first <span class="operator">=</span> <span class="number">0</span></span><br><span class="line"><span class="keyword">var</span> second <span class="operator">=</span> <span class="number">1</span></span><br><span class="line"><span class="keyword">var</span> count <span class="operator">=</span> <span class="number">0</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;斐波那契数列的前20项：&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">while</span> count <span class="operator">&lt;</span> <span class="number">20</span> &#123;</span><br><span class="line">    <span class="built_in">print</span>(first)</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">let</span> next <span class="operator">=</span> first <span class="operator">+</span> second</span><br><span class="line">    first <span class="operator">=</span> second</span><br><span class="line">    second <span class="operator">=</span> next</span><br><span class="line">    </span><br><span class="line">    count <span class="operator">+=</span> <span class="number">1</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="3-高阶函数应用"><a href="#3-高阶函数应用" class="headerlink" title="3. 高阶函数应用"></a>3. 高阶函数应用</h3><p><strong>题目5</strong>：使用map、filter和reduce函数处理以下数组，找出所有偶数并计算它们的平方和。</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> numbers <span class="operator">=</span> [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>, <span class="number">7</span>, <span class="number">8</span>, <span class="number">9</span>, <span class="number">10</span>]</span><br></pre></td></tr></table></figure>

<p><strong>答案</strong>：</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> numbers <span class="operator">=</span> [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>, <span class="number">7</span>, <span class="number">8</span>, <span class="number">9</span>, <span class="number">10</span>]</span><br><span class="line"></span><br><span class="line"><span class="comment">// 方法1：使用链式调用</span></span><br><span class="line"><span class="keyword">let</span> sumOfSquares <span class="operator">=</span> numbers.filter &#123; <span class="variable">$0</span> <span class="operator">%</span> <span class="number">2</span> <span class="operator">==</span> <span class="number">0</span> &#125;</span><br><span class="line">                         .map &#123; <span class="variable">$0</span> <span class="operator">*</span> <span class="variable">$0</span> &#125;</span><br><span class="line">                         .reduce(<span class="number">0</span>, <span class="operator">+</span>)</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;偶数的平方和：<span class="subst">\(sumOfSquares)</span>&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">// 方法2：使用lazy提高性能</span></span><br><span class="line"><span class="keyword">let</span> sumOfSquaresLazy <span class="operator">=</span> numbers.lazy.filter &#123; <span class="variable">$0</span> <span class="operator">%</span> <span class="number">2</span> <span class="operator">==</span> <span class="number">0</span> &#125;</span><br><span class="line">                                  .map &#123; <span class="variable">$0</span> <span class="operator">*</span> <span class="variable">$0</span> &#125;</span><br><span class="line">                                  .reduce(<span class="number">0</span>, <span class="operator">+</span>)</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;偶数的平方和（使用lazy）：<span class="subst">\(sumOfSquaresLazy)</span>&quot;</span>)</span><br></pre></td></tr></table></figure>

<p><strong>题目6</strong>：使用switch语句的元组匹配功能，根据坐标点所在象限进行分类。</p>
<p><strong>答案</strong>：</p>
<figure class="highlight swift"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 根据坐标点所在象限进行分类</span></span><br><span class="line"><span class="keyword">func</span> <span class="title function_">classifyPoint</span>(<span class="keyword">_</span> <span class="params">point</span>: (x: <span class="type">Double</span>, y: <span class="type">Double</span>)) -&gt; <span class="type">String</span> &#123;</span><br><span class="line">    <span class="keyword">switch</span> point &#123;</span><br><span class="line">    <span class="keyword">case</span> (<span class="number">0</span>, <span class="number">0</span>):</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;原点&quot;</span></span><br><span class="line">    <span class="keyword">case</span> (<span class="keyword">_</span>, <span class="number">0</span>):</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;在x轴上&quot;</span></span><br><span class="line">    <span class="keyword">case</span> (<span class="number">0</span>, <span class="keyword">_</span>):</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;在y轴上&quot;</span></span><br><span class="line">    <span class="keyword">case</span> <span class="keyword">let</span> (x, y) <span class="keyword">where</span> x <span class="operator">&gt;</span> <span class="number">0</span> <span class="operator">&amp;&amp;</span> y <span class="operator">&gt;</span> <span class="number">0</span>:</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;第一象限&quot;</span></span><br><span class="line">    <span class="keyword">case</span> <span class="keyword">let</span> (x, y) <span class="keyword">where</span> x <span class="operator">&lt;</span> <span class="number">0</span> <span class="operator">&amp;&amp;</span> y <span class="operator">&gt;</span> <span class="number">0</span>:</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;第二象限&quot;</span></span><br><span class="line">    <span class="keyword">case</span> <span class="keyword">let</span> (x, y) <span class="keyword">where</span> x <span class="operator">&lt;</span> <span class="number">0</span> <span class="operator">&amp;&amp;</span> y <span class="operator">&lt;</span> <span class="number">0</span>:</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;第三象限&quot;</span></span><br><span class="line">    <span class="keyword">case</span> <span class="keyword">let</span> (x, y) <span class="keyword">where</span> x <span class="operator">&gt;</span> <span class="number">0</span> <span class="operator">&amp;&amp;</span> y <span class="operator">&lt;</span> <span class="number">0</span>:</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;第四象限&quot;</span></span><br><span class="line">    <span class="keyword">default</span>:</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;未知&quot;</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 测试</span></span><br><span class="line"><span class="built_in">print</span>(classifyPoint((<span class="number">0</span>, <span class="number">0</span>))) <span class="comment">// 原点</span></span><br><span class="line"><span class="built_in">print</span>(classifyPoint((<span class="number">5</span>, <span class="number">0</span>))) <span class="comment">// 在x轴上</span></span><br><span class="line"><span class="built_in">print</span>(classifyPoint((<span class="number">3</span>, <span class="number">4</span>))) <span class="comment">// 第一象限</span></span><br><span class="line"><span class="built_in">print</span>(classifyPoint((<span class="operator">-</span><span class="number">2</span>, <span class="number">3</span>))) <span class="comment">// 第二象限</span></span><br><span class="line"><span class="built_in">print</span>(classifyPoint((<span class="operator">-</span><span class="number">1</span>, <span class="operator">-</span><span class="number">1</span>))) <span class="comment">// 第三象限</span></span><br><span class="line"><span class="built_in">print</span>(classifyPoint((<span class="number">4</span>, <span class="operator">-</span><span class="number">5</span>))) <span class="comment">// 第四象限</span></span><br></pre></td></tr></table></figure>

<h2 id="十一、总结"><a href="#十一、总结" class="headerlink" title="十一、总结"></a>十一、总结</h2><p>在这篇学习日记中，我们深入探讨了Swift的控制流语句：</p>
<ol>
<li><p><strong>条件语句</strong>：包括<code>if-else</code>、<code>guard</code>和<code>switch</code>语句，其中<code>guard</code>语句可以提前退出，减少嵌套层级，<code>switch</code>语句支持多种匹配模式</p>
</li>
<li><p><strong>循环语句</strong>：包括<code>for-in</code>、<code>while</code>和<code>repeat-while</code>循环，以及函数式编程中的<code>map</code>、<code>filter</code>和<code>reduce</code></p>
</li>
<li><p><strong>控制转移语句</strong>：包括<code>break</code>、<code>continue</code>、<code>fallthrough</code>和<code>return</code>，用于改变代码的执行顺序</p>
</li>
<li><p><strong>高级用法</strong>：包括高级条件语句技巧、高级循环技巧、高级函数式编程、高级控制转移技巧以及性能优化策略</p>
</li>
</ol>
<p>掌握控制流语句是编程的基础，它们使我们能够根据不同的条件执行不同的代码块，或者重复执行一段代码。在下一篇学习日记中，我们将继续学习Swift的函数和闭包。</p>

  </div>
  <!--文末结束语-->
  
    <div style="text-align:center;color: #ccc;font-size:24px;"> --- 本文结束 <i class="iconfont icon-heartbeat" style="font-size:24px;"></i> The End --- </div>
  
  <!--页脚广告-->
  
  <div class="mdui-divider"></div>
  
  <nav>
    
      <a rel="prev" class="post-nav-item mdui-float-left" href="/ios.github.io/2025/12/06/swift%E5%AD%A6%E4%B9%A0%E6%97%A5%E8%AE%B0%EF%BC%88%E5%9B%9B%EF%BC%89/">
        <i class="iconfont icon-angle-left"></i>
        <span>swift学习日记(四)</span>
      </a>
    
    
      <a rel="next" class="post-nav-item mdui-float-right" href="/ios.github.io/2025/12/04/swift%E5%AD%A6%E4%B9%A0%E6%97%A5%E8%AE%B0%EF%BC%88%E4%BA%8C%EF%BC%89/">
        <span>swift学习日记(二)</span>
        <i class="iconfont icon-angle-right"></i>
      </a>
    
  </nav>
</article>




  <div class="toc-button"  style="z-index: 100;">
    <button class="mdui-fab mdui-ripple mdui-color-teal" mdui-menu="{target: '#toc'}"><i class="iconfont icon-list"></i></button>
    <ul class="mdui-menu" id="toc">
      <li class="mdui-menu-item">
        <a href="/ios.github.io/2025/12/05/swift%E5%AD%A6%E4%B9%A0%E6%97%A5%E8%AE%B0%EF%BC%88%E4%B8%89%EF%BC%89/" id="toc-header" class="mdui-ripple">文章目录</a>
        <ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#Swift%E5%AD%A6%E4%B9%A0%E6%97%A5%E8%AE%B0%EF%BC%88%E4%B8%89%EF%BC%89%EF%BC%9A%E6%8E%A7%E5%88%B6%E6%B5%81"><span class="toc-number">1.</span> <span class="toc-text">Swift学习日记（三）：控制流</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B8%80%E3%80%81%E5%BC%95%E8%A8%80"><span class="toc-number">1.1.</span> <span class="toc-text">一、引言</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BA%8C%E3%80%81%E6%9D%A1%E4%BB%B6%E8%AF%AD%E5%8F%A5"><span class="toc-number">1.2.</span> <span class="toc-text">二、条件语句</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-if-else%E8%AF%AD%E5%8F%A5"><span class="toc-number">1.2.1.</span> <span class="toc-text">1. if-else语句</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%B5%8C%E5%A5%97if-else"><span class="toc-number">1.2.1.1.</span> <span class="toc-text">嵌套if-else</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-guard%E8%AF%AD%E5%8F%A5"><span class="toc-number">1.2.2.</span> <span class="toc-text">2. guard语句</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-switch%E8%AF%AD%E5%8F%A5"><span class="toc-number">1.2.3.</span> <span class="toc-text">3. switch语句</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%B8%8D%E9%9C%80%E8%A6%81%E6%98%BE%E5%BC%8F%E7%9A%84break"><span class="toc-number">1.2.3.1.</span> <span class="toc-text">不需要显式的break</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%94%AF%E6%8C%81%E5%A4%9A%E7%A7%8D%E5%8C%B9%E9%85%8D%E6%A8%A1%E5%BC%8F"><span class="toc-number">1.2.3.2.</span> <span class="toc-text">支持多种匹配模式</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#1-%E5%8C%BA%E9%97%B4%E5%8C%B9%E9%85%8D"><span class="toc-number">1.2.3.2.1.</span> <span class="toc-text">1. 区间匹配</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#2-%E5%85%83%E7%BB%84%E5%8C%B9%E9%85%8D"><span class="toc-number">1.2.3.2.2.</span> <span class="toc-text">2. 元组匹配</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#3-%E5%80%BC%E7%BB%91%E5%AE%9A"><span class="toc-number">1.2.3.2.3.</span> <span class="toc-text">3. 值绑定</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#4-where%E5%AD%90%E5%8F%A5"><span class="toc-number">1.2.3.2.4.</span> <span class="toc-text">4. where子句</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#5-%E6%9E%9A%E4%B8%BE%E6%88%90%E5%91%98%E5%8C%B9%E9%85%8D"><span class="toc-number">1.2.3.2.5.</span> <span class="toc-text">5. 枚举成员匹配</span></a></li></ol></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B8%89%E3%80%81%E5%BE%AA%E7%8E%AF%E8%AF%AD%E5%8F%A5"><span class="toc-number">1.3.</span> <span class="toc-text">三、循环语句</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-for-in%E5%BE%AA%E7%8E%AF"><span class="toc-number">1.3.1.</span> <span class="toc-text">1. for-in循环</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%81%8D%E5%8E%86%E8%8C%83%E5%9B%B4"><span class="toc-number">1.3.1.1.</span> <span class="toc-text">遍历范围</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%81%8D%E5%8E%86%E9%9B%86%E5%90%88"><span class="toc-number">1.3.1.2.</span> <span class="toc-text">遍历集合</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%81%8D%E5%8E%86%E5%AD%97%E7%AC%A6%E4%B8%B2"><span class="toc-number">1.3.1.3.</span> <span class="toc-text">遍历字符串</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BD%BF%E7%94%A8stride%E5%87%BD%E6%95%B0"><span class="toc-number">1.3.1.4.</span> <span class="toc-text">使用stride函数</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-while%E5%BE%AA%E7%8E%AF"><span class="toc-number">1.3.2.</span> <span class="toc-text">2. while循环</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-repeat-while%E5%BE%AA%E7%8E%AF"><span class="toc-number">1.3.3.</span> <span class="toc-text">3. repeat-while循环</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-%E5%87%BD%E6%95%B0%E5%BC%8F%E5%BE%AA%E7%8E%AF%EF%BC%88%E9%AB%98%E9%98%B6%E5%87%BD%E6%95%B0%EF%BC%89"><span class="toc-number">1.3.4.</span> <span class="toc-text">4. 函数式循环（高阶函数）</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#1-map%E6%96%B9%E6%B3%95"><span class="toc-number">1.3.4.1.</span> <span class="toc-text">1. map方法</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-filter%E6%96%B9%E6%B3%95"><span class="toc-number">1.3.4.2.</span> <span class="toc-text">2. filter方法</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3-reduce%E6%96%B9%E6%B3%95"><span class="toc-number">1.3.4.3.</span> <span class="toc-text">3. reduce方法</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#4-%E9%93%BE%E5%BC%8F%E8%B0%83%E7%94%A8"><span class="toc-number">1.3.4.4.</span> <span class="toc-text">4. 链式调用</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%9B%9B%E3%80%81%E6%8E%A7%E5%88%B6%E8%BD%AC%E7%A7%BB%E8%AF%AD%E5%8F%A5"><span class="toc-number">1.4.</span> <span class="toc-text">四、控制转移语句</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-break%E8%AF%AD%E5%8F%A5"><span class="toc-number">1.4.1.</span> <span class="toc-text">1. break语句</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-continue%E8%AF%AD%E5%8F%A5"><span class="toc-number">1.4.2.</span> <span class="toc-text">2. continue语句</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-fallthrough%E8%AF%AD%E5%8F%A5"><span class="toc-number">1.4.3.</span> <span class="toc-text">3. fallthrough语句</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-return%E8%AF%AD%E5%8F%A5"><span class="toc-number">1.4.4.</span> <span class="toc-text">4. return语句</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BA%94%E3%80%81%E5%B8%A6%E6%A0%87%E7%AD%BE%E7%9A%84%E8%AF%AD%E5%8F%A5"><span class="toc-number">1.5.</span> <span class="toc-text">五、带标签的语句</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%85%AD%E3%80%81API%E5%8F%AF%E7%94%A8%E6%80%A7%E6%A3%80%E6%9F%A5"><span class="toc-number">1.6.</span> <span class="toc-text">六、API可用性检查</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B8%83%E3%80%81%E5%86%85%E5%AE%B9%E6%9C%BA%E5%88%B6%E4%B8%8E%E7%9F%A5%E8%AF%86%E7%82%B9%E6%80%BB%E7%BB%93"><span class="toc-number">1.7.</span> <span class="toc-text">七、内容机制与知识点总结</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-%E5%86%85%E5%AE%B9%E6%9C%BA%E5%88%B6"><span class="toc-number">1.7.1.</span> <span class="toc-text">1. 内容机制</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-%E7%9F%A5%E8%AF%86%E7%82%B9%E6%80%BB%E7%BB%93"><span class="toc-number">1.7.2.</span> <span class="toc-text">2. 知识点总结</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%85%AB%E3%80%81%E9%81%87%E5%88%B0%E7%9A%84%E9%97%AE%E9%A2%98%E5%8F%8A%E8%A7%A3%E5%86%B3%E6%96%B9%E6%A1%88"><span class="toc-number">1.8.</span> <span class="toc-text">八、遇到的问题及解决方案</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-%E8%BF%87%E5%A4%9A%E7%9A%84%E5%B5%8C%E5%A5%97if-else%E5%AF%BC%E8%87%B4%E4%BB%A3%E7%A0%81%E5%8F%AF%E8%AF%BB%E6%80%A7%E5%B7%AE"><span class="toc-number">1.8.1.</span> <span class="toc-text">1. 过多的嵌套if-else导致代码可读性差</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-Switch%E8%AF%AD%E5%8F%A5%E7%BC%BA%E5%B0%91%E9%BB%98%E8%AE%A4%E5%88%86%E6%94%AF"><span class="toc-number">1.8.2.</span> <span class="toc-text">2. Switch语句缺少默认分支</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-%E6%84%8F%E5%A4%96%E7%9A%84fallthrough%E8%A1%8C%E4%B8%BA"><span class="toc-number">1.8.3.</span> <span class="toc-text">3. 意外的fallthrough行为</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-%E6%AD%BB%E5%BE%AA%E7%8E%AF%E9%97%AE%E9%A2%98"><span class="toc-number">1.8.4.</span> <span class="toc-text">4. 死循环问题</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-%E9%AB%98%E9%98%B6%E5%87%BD%E6%95%B0%E6%80%A7%E8%83%BD%E9%97%AE%E9%A2%98"><span class="toc-number">1.8.5.</span> <span class="toc-text">5. 高阶函数性能问题</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B9%9D%E3%80%81%E9%AB%98%E9%98%B6%E7%94%A8%E6%B3%95"><span class="toc-number">1.9.</span> <span class="toc-text">九、高阶用法</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-%E9%AB%98%E7%BA%A7%E6%9D%A1%E4%BB%B6%E8%AF%AD%E5%8F%A5%E6%8A%80%E5%B7%A7"><span class="toc-number">1.9.1.</span> <span class="toc-text">1. 高级条件语句技巧</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%8F%AF%E9%80%89%E7%BB%91%E5%AE%9A%E7%9A%84%E9%AB%98%E7%BA%A7%E7%94%A8%E6%B3%95"><span class="toc-number">1.9.1.1.</span> <span class="toc-text">可选绑定的高级用法</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Switch%E8%AF%AD%E5%8F%A5%E7%9A%84%E9%AB%98%E7%BA%A7%E5%8C%B9%E9%85%8D%E6%A8%A1%E5%BC%8F"><span class="toc-number">1.9.1.2.</span> <span class="toc-text">Switch语句的高级匹配模式</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-%E9%AB%98%E7%BA%A7%E5%BE%AA%E7%8E%AF%E6%8A%80%E5%B7%A7"><span class="toc-number">1.9.2.</span> <span class="toc-text">2. 高级循环技巧</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%B9%B6%E5%8F%91%E5%BE%AA%E7%8E%AF"><span class="toc-number">1.9.2.1.</span> <span class="toc-text">并发循环</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%97%A0%E9%99%90%E5%BE%AA%E7%8E%AF%E7%9A%84%E4%BC%98%E9%9B%85%E9%80%80%E5%87%BA"><span class="toc-number">1.9.2.2.</span> <span class="toc-text">无限循环的优雅退出</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-%E9%AB%98%E7%BA%A7%E5%87%BD%E6%95%B0%E5%BC%8F%E7%BC%96%E7%A8%8B"><span class="toc-number">1.9.3.</span> <span class="toc-text">3. 高级函数式编程</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%87%AA%E5%AE%9A%E4%B9%89%E9%AB%98%E9%98%B6%E5%87%BD%E6%95%B0"><span class="toc-number">1.9.3.1.</span> <span class="toc-text">自定义高阶函数</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%87%BD%E6%95%B0%E5%BC%8F%E7%BC%96%E7%A8%8B%E7%9A%84%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96"><span class="toc-number">1.9.3.2.</span> <span class="toc-text">函数式编程的性能优化</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-%E9%AB%98%E7%BA%A7%E6%8E%A7%E5%88%B6%E8%BD%AC%E7%A7%BB%E6%8A%80%E5%B7%A7"><span class="toc-number">1.9.4.</span> <span class="toc-text">4. 高级控制转移技巧</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%B8%A6%E6%9D%A1%E4%BB%B6%E7%9A%84return"><span class="toc-number">1.9.4.1.</span> <span class="toc-text">带条件的return</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%8A%9B%E5%87%BA%E9%94%99%E8%AF%AF%E6%9B%BF%E4%BB%A3%E5%A4%9A%E5%B1%82return"><span class="toc-number">1.9.4.2.</span> <span class="toc-text">抛出错误替代多层return</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96%E7%AD%96%E7%95%A5"><span class="toc-number">1.9.5.</span> <span class="toc-text">5. 性能优化策略</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%BE%AA%E7%8E%AF%E4%BC%98%E5%8C%96"><span class="toc-number">1.9.5.1.</span> <span class="toc-text">循环优化</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Switch%E8%AF%AD%E5%8F%A5%E4%BC%98%E5%8C%96"><span class="toc-number">1.9.5.2.</span> <span class="toc-text">Switch语句优化</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6-%E6%9C%80%E4%BD%B3%E5%AE%9E%E8%B7%B5"><span class="toc-number">1.9.6.</span> <span class="toc-text">6. 最佳实践</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%9D%A1%E4%BB%B6%E8%AF%AD%E5%8F%A5"><span class="toc-number">1.9.6.1.</span> <span class="toc-text">条件语句</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%BE%AA%E7%8E%AF%E8%AF%AD%E5%8F%A5"><span class="toc-number">1.9.6.2.</span> <span class="toc-text">循环语句</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%8E%A7%E5%88%B6%E8%BD%AC%E7%A7%BB"><span class="toc-number">1.9.6.3.</span> <span class="toc-text">控制转移</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%8D%81%E3%80%81%E5%AE%9E%E8%B7%B5%E7%BB%83%E4%B9%A0"><span class="toc-number">1.10.</span> <span class="toc-text">十、实践练习</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-%E6%9D%A1%E4%BB%B6%E8%AF%AD%E5%8F%A5%E5%BA%94%E7%94%A8"><span class="toc-number">1.10.1.</span> <span class="toc-text">1. 条件语句应用</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-%E5%BE%AA%E7%8E%AF%E8%AF%AD%E5%8F%A5%E5%BA%94%E7%94%A8"><span class="toc-number">1.10.2.</span> <span class="toc-text">2. 循环语句应用</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-%E9%AB%98%E9%98%B6%E5%87%BD%E6%95%B0%E5%BA%94%E7%94%A8"><span class="toc-number">1.10.3.</span> <span class="toc-text">3. 高阶函数应用</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%8D%81%E4%B8%80%E3%80%81%E6%80%BB%E7%BB%93"><span class="toc-number">1.11.</span> <span class="toc-text">十一、总结</span></a></li></ol></li></ol>
      </li>
    </ul>
  </div>



    <div id="comment" class="mdui-card mdui-p-a-2 mdui-m-b-5">
      <div class="mdui-tab" mdui-tab>
        
          <a href="#comment-tab0" class="mdui-ripple">gitalk</a>
        
          <a href="#comment-tab1" class="mdui-ripple">livere</a>
        
      </div>
      
        <div id="comment-tab0" class="mdui-p-a-2">
          <div id="gitalk-container"></div>
<link rel="stylesheet" href="https://unpkg.com/gitalk/dist/gitalk.css">
<script src="https://unpkg.com/gitalk/dist/gitalk.min.js"></script>
<script src="//cdn.jsdelivr.net/npm/js-md5@0.7.3/src/md5.min.js"></script>
<script>
  var gitalk = new Gitalk({
    clientID: '',
    clientSecret: '',
    repo: '',
    owner: '',
    admin: [''],
    id:  md5(location.pathname) ,
    distractionFreeMode: 'true',
  });
  gitalk.render('gitalk-container');
</script>
        </div>
      
        <div id="comment-tab1" class="mdui-p-a-2">
          <div id="lv-container" data-id="city" data-uid="">
  <script type="text/javascript">
    (function (d, s) {
      var j, e = d.getElementsByTagName(s)[0];
      if (typeof LivereTower === 'function') { return; }
      j = d.createElement(s);
      j.src = 'https://cdn-city.livere.com/js/embed.dist.js';
      j.async = true;
      e.parentNode.insertBefore(j, e);
    })(document, 'script');
  </script>
  <noscript>Please enable JavaScript to view the comments powered by LiveRe.</noscript>
</div>
        </div>
      
    </div>

  </main>
  <footer id="footer" class="mdui-text-center mdui-m-t-5 mdui-p-b-2 mdui-p-t-4 mdui-color-theme">
  <div class="mdui-container">
    <div class="mdui-row">
      
      <span>
        &copy; 2025 - 2025 
        
        猪会飞
      </span>
    </div>
    <div class="mdui-row">
      
        <span>Theme: <a href="https://github.com/kb1000fx/hexo-theme-meadow" rel="noopener" target="_blank">Meadow</a></span>
      
    </div>
    <div class="mdui-row">
      
    </div>
 </div>
</footer>
  
  <button id="gotop" class="mdui-fab mdui-fab-fixed mdui-fab-hide mdui-ripple mdui-color-teal" style="z-index:100;"><i class="iconfont icon-arrowup"></i></button>
  
  




    <script src="https://cdn.jsdelivr.net/npm/mermaid@8.4.8/dist/mermaid.min.js"></script>
    <script>mermaid.initialize({
        startOnLoad: true,
        theme: "default"
    });</script>




    
<script src="/ios.github.io/js/mdui.min.v1.0.0.js"></script>




<script src="/ios.github.io/js/meadow.js"></script>

</body>
</html >